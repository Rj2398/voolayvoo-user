"use strict";exports.id=2799,exports.ids=[2799],exports.modules={2799:(e,t,a)=>{a.d(t,{default:()=>g});var r=a(97247),l=a(28964),s=a(79906),n=a(44597),i=a(60006),o=a(89761),c=a(22523),d=a(29647),u=a(87150),m=a(78430),p=a(68534),h=a(35422);let g=({categoryList:e,eventList:t})=>{let[a,g]=(0,l.useState)(!1),[x,f]=(0,l.useState)([]),[v,y]=(0,l.useState)(1),[j,N]=(0,l.useState)({category_id:"All"}),[b,_]=(0,l.useState)({isCategoryApply:!1,isSearchApply:!1,isDateRangeApply:!1,isLoacationApply:!1,isMilesAppy:!1,isPaginationApply:!1}),[w,S]=(0,l.useState)([]),[A,C]=(0,l.useState)([]),[k,M]=(0,l.useState)(""),[D,F]=(0,l.useState)([]),[I,Z]=(0,l.useState)({from:0,to:100}),E=(0,l.useRef)(null);(0,l.useEffect)(()=>{(async()=>{try{let a=await (0,o.vW)();if(e&&t&&a){for(let e in t){let r={latitude:t[e].latitude,longitude:t[e].longitude};t[e].event_away_distance=(0,o.hs)(a,r)}let r=(0,o.Wu)(t,e);f(r),r.length>9?_(e=>({...e,isPaginationApply:!0})):S(r)}}catch(e){console.error("Error getting current location:",e)}})()},[e,t]),(0,l.useEffect)(()=>{let a=(0,o.Wu)(t,e);if(b.isCategoryApply?f(a=(0,o.Wu)(a,[{category_id:Number(j.category_id)}])):b.isCategoryApply||f(a=(0,o.Wu)(a,e)),b.isSearchApply){let e=a.filter(e=>e?.events_name.toLowerCase()?.includes(k.toLowerCase()));f(e),a=e}else b.isSearchApply||(a=(0,o.Wu)(a,e));if(b.isDateRangeApply){let e=new i.NT(A[0]),t=new i.NT(A[1]);(0,o.rF)(e.format(),t.format())&&f(a=(0,o.j7)(e.format(),t.format(),a))}else b.isDateRangeApply||(a=(0,o.Wu)(a,e));if(D.length>0){let e=a.filter(e=>(e?.location?.split(", ")||[]).some(e=>D.some(t=>e.includes(t))));f(e),a=e}else D.length;b.isMilesAppy?f(a=(0,o.r8)(a,I.from,I.to)):b.isMilesAppy||(a=(0,o.Wu)(a,e)),a.length>9&&b.isPaginationApply&&(f(a),a=a.filter((e,t)=>t<9)),y(1),S(a)},[b,D]);let $=e=>{let t=e.category_id.toString()===j.category_id;t?t&&(_(e=>({...e,isCategoryApply:!1})),N({category_id:"All"}),E.current&&E.current.scrollIntoView({behavior:"smooth",block:"start"})):(_(e=>({...e,isCategoryApply:!0})),N({category_id:e.category_id.toString()}))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"inner-banner",style:{backgroundImage:"url(/images/about-bnr.png)",backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:[r.jsx("h1",{children:" Explore Events "}),r.jsx("p",{children:"Find Your A-ha!"})]}),(0,r.jsxs)("div",{className:"container",children:[r.jsx("div",{className:"row justify-content-center p-3",children:r.jsx("div",{className:"col-lg-6",children:(0,r.jsxs)("form",{className:"d-flex new-srchbox mb-3",onSubmit:e=>{e.preventDefault(),k?_(e=>({...e,isSearchApply:!0})):_(e=>({...e,isSearchApply:!1})),E.current&&E.current.scrollIntoView({behavior:"smooth",block:"start"})},children:[r.jsx("input",{className:"new-srch",type:"search",value:k,onChange:e=>{e.target.value?M(e.target.value):(M(e.target.value),_(e=>({...e,isSearchApply:!1})))},placeholder:"Search for Events","aria-label":"Search"}),r.jsx("button",{className:"srch-btn",type:"submit",children:r.jsx(n.default,{width:15,height:16,src:"/images/search.png",alt:""})})]})})}),(0,r.jsxs)("div",{className:"row",children:[r.jsx("div",{className:"col-lg-3 col-md-5",children:(0,r.jsxs)("div",{className:"event-cat",children:[r.jsx("h5",{children:"Event Categories"}),r.jsx("ul",{children:e?.map(e=>r.jsx("li",{children:r.jsxs("a",{style:{cursor:"pointer",color:j.category_id===`${e.category_id}`?"#F10027":"black"},onClick:()=>$(e),id:e.category_id,children:[e.category_name," ",r.jsxs("span",{children:["(",e.count,")"]})," "]})},e.category_id))})]})}),r.jsx("div",{className:"col-lg-9 col-md-7",children:(0,r.jsxs)("div",{className:"row",ref:E,children:[r.jsx("div",{className:"col-lg-12 mb-3",children:(0,r.jsxs)("div",{className:"show-cal-loc-range",children:[r.jsx("div",{className:"calendar",children:r.jsx("div",{className:"broker-date",children:r.jsx(p.Z,{date:A,onChange:e=>{let t=new i.NT(e[0]),a=new i.NT(e[1]);C(e),(0,o.rF)(t.format(),a.format())?_(e=>({...e,isDateRangeApply:!0})):_(e=>({...e,isDateRangeApply:!1})),E.current&&E.current.scrollIntoView({behavior:"smooth",block:"start"})}})})}),r.jsx(h.Z,{locationFilter:D,setLocationFilter:F}),(0,r.jsxs)("div",{className:"dropdown mile-rad-range date-range",children:[(0,r.jsxs)("a",{className:"btn btn-date-range text-left",type:"button",id:"date-range-drop","data-bs-toggle":"dropdown","aria-expanded":"false",children:["Select your Mile Radius"," "]}),r.jsx(m.Z,{initialValueFrom:0,initialValueTo:100,handleSliderValues:e=>{Z({from:e.fromValue,to:e.toValue}),0===e.fromValue&&100===e.toValue?_(e=>({...e,isMilesAppy:!1})):_(e=>({...e,isMilesAppy:!0}))}})]})]})}),Array.isArray(w)&&w.length>0&&w.map((e,t)=>(console.log(e,"datassssssssss"),r.jsx("div",{className:"col-lg-4",children:(0,r.jsxs)("div",{className:"event-brand-box",children:[(0,r.jsxs)("div",{className:"brand-logo",children:[r.jsx(n.default,{width:285,height:223,style:{objectFit:"cover"},src:e?.eventimage?.image_name?`${d._n}/${e?.eventimage?.image_name}`:"/images/near-event2.png",alt:"",onError:e=>{console.error("Image failed to load:",e)}}),(0,r.jsxs)("div",{className:"event-price-free",children:[" ",0===Number(e.events_price)?"Free":"$"+Number(e.events_price)," "]})]}),(0,r.jsxs)("div",{class:"event-pad",children:[(0,r.jsxs)("h6",{children:[" ",e.events_name]}),(0,r.jsxs)("p",{style:{height:"50px"},children:[" ",(0,o.hk)(e.events_description,50)]}),(0,r.jsxs)("div",{class:"point-icon",children:[(0,r.jsxs)("span",{children:[" ",r.jsx(n.default,{width:20,height:20,src:"/images/location-dot.png",alt:""})," ",e.event_away_distance," miles away"," "]}),(0,r.jsxs)("span",{children:[r.jsx(n.default,{width:20,height:20,src:"/images/calendar.png",alt:""})," ",c.ou.fromFormat(e.events_date,"yyyy-MM-dd").toFormat("MMMM dd, yyyy")," "]}),(0,r.jsxs)("span",{children:[" ",r.jsx(n.default,{width:20,height:20,src:"/images/watch.png",alt:""})," ",(0,o.YZ)(e.events_start_time)," to"," ",(0,o.YZ)(e.events_end_time)," "]})]}),r.jsx(s.default,{className:"btn btn-viewmore-border btn-align",href:`/events/${e.checked_id}?promoter_id=${e.promoter_id}`,role:"button",children:"View More"})]})]})},t))),Array.isArray(w)&&0===w.length&&r.jsx("div",{className:"row",children:r.jsx("p",{className:"noDataText",children:"No Events "})}),r.jsx(u.Z,{dataArray:x,pageNo:v,clickPageNumber:e=>{let t=[];for(let e=0;e<x.length;e+=9)t.push(x.slice(e,e+9));E.current&&E.current.scrollIntoView({behavior:"smooth",block:"start"}),y(e),S(t[e-1])},pageLimit:9})]})})]})]})]})}},89007:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(97247),l=a(28964),s=a(20483),n=a(51036),i=a(29647);let o=({select:e=[],setSelect:t})=>{let{placePredictions:a,getPlacePredictions:o,isPlacePredictionsLoading:c}=(0,n.Z)({apiKey:i.Uu}),[d,u]=(0,l.useState)(""),m=a=>{e.includes(a)?t(e.filter(e=>e!==a)):t([...e,a])},p=()=>{o({input:""}),u(""),t([])};return(0,r.jsxs)("div",{style:{position:"relative"},children:[r.jsx("input",{style:{color:"black"},type:"text",placeholder:"Select Location",value:d,onChange:e=>{o({input:e.target.value}),u(e.target.value)}}),Array.isArray(e)&&e.length>0&&(0,r.jsxs)("a",{onClick:()=>p(),className:"clear-btn",role:"button",children:[" ","Clear"," "]}),!c&&a.length>0&&r.jsx("div",{style:{display:"flex",maxHeight:200,overflowY:"scroll",flexDirection:"column",paddingTop:8},children:a.map(t=>(0,r.jsxs)("div",{style:{margin:4},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[t.structured_formatting.main_text,r.jsx("span",{children:r.jsx("input",{type:"checkbox",id:t.structured_formatting.main_text,name:t.structured_formatting.main_text,value:t.structured_formatting.main_text,checked:e.includes(t.structured_formatting.main_text),onClick:e=>m(e.currentTarget.value)})})]}),r.jsx(s.Z,{})]},t.place_id))})]})}},68534:(e,t,a)=>{a.d(t,{Z:()=>n});var r=a(97247),l=a(28964),s=a(60006);function n({date:e,onChange:t}){let[a,n]=(0,l.useState)(e||[]);return r.jsx(s.ZP,{range:!0,value:a,numberOfMonths:2,dateSeparator:" to ",placeholder:"Start & End Date",onChange:e=>{n(e)},containerStyle:{width:"100%"},minDate:new Date,plugins:[r.jsx(i,{position:"bottom",onApply:e=>{"close"===e?(n([]),t([])):t(a)}},"customToolbar")]})}function i({position:e,datePickerProps:t,calendarProps:a,onApply:l,DatePicker:s}){let n=t||a;return(0,r.jsxs)("div",{className:"drp-bottom-box",children:[(0,r.jsxs)("span",{className:"drp-selected",children:[n?.value[0]?.format()," ",n?.value[1]?.format()&&` to ${n?.value[1]?.format()}`]}),r.jsx("button",{className:"cancelBtn btn btn-sm btn-default",type:"button",onClick:()=>{l("close"),s.closeCalendar()},children:"cancel"}),r.jsx("div",{className:"applyBtn-date applyBtn btn btn-sm btn-primary",onClick:()=>{l(),s.closeCalendar()},children:"Apply"})]})}},87150:(e,t,a)=>{a.d(t,{Z:()=>s});var r=a(97247),l=a(28964);let s=({dataArray:e=[],clickPageNumber:t,pageNo:a,pageLimit:s=9})=>{let n=Math.ceil(e?.length/s),[i,o]=(0,l.useState)(1);(0,l.useEffect)(()=>{o(a)},[a]);let c=e=>{t(e),o(e)};return r.jsx("div",{children:n>1&&r.jsx("div",{className:"col-lg-12 text-center",children:r.jsx("nav",{className:"pagingation-style",children:(0,r.jsxs)("ul",{className:"pagination",children:[r.jsx("li",{className:"page-item",children:r.jsx("a",{className:"page-link",onClick:()=>1!==i&&c(i-1),style:{cursor:"pointer"},children:"Prev"})}),(()=>{let e=[];for(let t=1;t<=n;t++)e.push(r.jsx("li",{className:"page-item",children:r.jsx("a",{className:"page-link",onClick:()=>c(t),style:{cursor:"pointer",color:i===t?"#FFF":"inherit",backgroundColor:i===t?"#F10027":"inherit"},children:t})},t));return e})(),r.jsx("li",{className:"page-item",children:r.jsx("a",{className:"page-link",onClick:()=>i!==n&&c(i+1),style:{cursor:"pointer"},children:"Next"})})]})})})})}},35422:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(97247),l=a(28964),s=a.n(l),n=a(89007);let i=s().memo(function({locationFilter:e=[],setLocationFilter:t}){let[a,s]=(0,l.useState)(!1);return(0,r.jsxs)("div",{className:"location-drop",children:[(0,r.jsxs)("a",{className:"btn btn-location text-left",href:"#",role:"button",id:"location-drop-id","data-bs-toggle":"dropdown","aria-expanded":"false",children:[" ","Location"," "]}),r.jsx("ul",{className:"dropdown-menu location-drop-list w-auto","aria-labelledby":"location-drop-id",children:r.jsx("form",{children:r.jsx(n.Z,{select:e,setSelect:e=>{t(e)}})})})]})})},78430:(e,t,a)=>{a.d(t,{Z:()=>s});var r=a(97247),l=a(28964);let s=({initialValueFrom:e,initialValueTo:t,handleSliderValues:a})=>{let[s,n]=(0,l.useState)(e),[i,o]=(0,l.useState)(t);(0,l.useEffect)(()=>{a({fromValue:s,toValue:i})},[s,i]);let c=e=>{let t=parseInt(e.target.value,10);"fromSlider"===e.target.id?t<i&&n(t):"toSlider"===e.target.id&&t>s&&o(t)},d=e=>{let t=parseInt(e.target.value,10);"fromInput"===e.target.id?n(t):"toInput"===e.target.id&&o(t)};return r.jsx("ul",{className:"dropdown-menu w-100 volovo-range","aria-labelledby":"date-range-drop",children:(0,r.jsxs)("div",{className:"miles-inner",children:[(0,r.jsxs)("div",{className:"sliders_control",children:[r.jsx("input",{id:"fromSlider",type:"range",value:s,min:"0",max:"100",onChange:c}),r.jsx("input",{id:"toSlider",type:"range",value:i,min:"0",max:"100",onChange:c})]}),(0,r.jsxs)("div",{className:"form_control",children:[r.jsx("div",{className:"form_control_container",children:r.jsx("input",{className:"form_control_container__time__input",type:"number",id:"fromInput",value:s,min:"0",max:"100",onChange:d})}),r.jsx("div",{className:"form_control_container",children:r.jsx("input",{className:"form_control_container__time__input num-last",type:"number",id:"toInput",value:i,min:"0",max:"100",onChange:d})})]})]})})}},89761:(e,t,a)=>{a.d(t,{Bp:()=>r,W$:()=>d,Wu:()=>l,YZ:()=>s,hk:()=>p,hs:()=>i,j7:()=>c,r8:()=>m,rF:()=>u,vW:()=>n});let r=(e=[],t=[])=>{let a=[];for(let r of e){let e=0;for(let a of t)Number(a.category_id)===Number(r.category_id)&&(e+=1);a.push({...r,count:e})}return a.filter(e=>0!==e.count)},l=(e=[],t=[])=>{let a=[];for(let r of e)for(let e of t)Number(e.category_id)===Number(r.category_id)&&a.push(r);return a},s=e=>{let[t,a]=e.split(":").map(Number);if(isNaN(t)||t<0||t>23)return"Invalid time format";let r=t>=12?"PM":"AM",l=t%12||12;return!isNaN(a)&&a>=0&&a<=59?`${String(l).padStart(2,"0")}:${String(a).padStart(2,"0")} ${r}`:`${String(l).padStart(2,"0")}:${String(0).padStart(2,"0")} ${r}`};function n(){return new Promise<Coordinates>((e,t)=>{navigator.geolocation.getCurrentPosition(t=>e(t.coords),e=>t(e))})}function i(e,t){let a=o(e.latitude),r=o(t.longitude),l=o(t.latitude-e.latitude),s=o(t.longitude-e.longitude),n=Math.sin(l/2)*Math.sin(l/2)+Math.cos(a)*Math.cos(r)*Math.sin(s/2)*Math.sin(s/2);return+(2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))*3958.754641).toFixed(2)}function o(e){return Math.PI/180*e}function c(e,t,a){let r=new Date(e),l=new Date(t);if(isNaN(r.getTime())||isNaN(l.getTime()))throw Error("Invalid date format");return a.filter(e=>{let t=new Date(e.events_date);return t>=r&&t<=l})}function d(e,t,a,r){let l=new Date(e),s=new Date(t);if(isNaN(l.getTime())||isNaN(s.getTime()))throw Error("Invalid date format");return a.filter(e=>{let t=new Date(e?.[r]?.events_date);return t>=l&&t<=s})}function u(e,t){return new Date(e.replace(/-/g,"/"))<new Date(t.replace(/-/g,"/"))}function m(e,t,a){return e.filter(e=>{let r=e.event_away_distance;return void 0!==r&&r>=t&&r<=a})}let p=(e,t)=>e?e.length>t?e.substring(0,t)+"...":e:""}};