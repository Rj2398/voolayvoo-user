"use strict";exports.id=1902,exports.ids=[1902],exports.modules={41902:(e,t,a)=>{a.d(t,{Z:()=>f});var l=a(97247),r=a(28964),n=a(79906),s=a(44597),i=a(60006),o=a(89761),c=a(22523),d=a(29647),u=a(87150),p=a(78430),m=a(89007),h=a(53276),g=a(68534);let f=({categoryList:e,voopanList:t})=>{console.log(e,"categary list data ");let[a,f]=(0,r.useState)(!1);console.log(a,"location filter data");let[x,v]=(0,r.useState)([]),[y,N]=(0,r.useState)(1),[j,b]=(0,r.useState)({category_id:"All"}),[_,w]=(0,r.useState)({isCategoryApply:!1,isSearchApply:!1,isDateRangeApply:!1,isLoacationApply:!1,isMilesAppy:!1,isPaginationApply:!1}),[S,A]=(0,r.useState)([]);console.log(S,"hello render list of voopans");let[C,M]=(0,r.useState)([]),[k,D]=(0,r.useState)(""),[I,T]=(0,r.useState)([]),[F,V]=(0,r.useState)({from:0,to:100}),Z=(0,r.useRef)(null);(0,r.useEffect)(()=>{(async()=>{try{let a=await (0,o.vW)();if(e&&t&&a){for(let e in t){let l={latitude:t[e].latitude,longitude:t[e].longitude};t[e].voopan_away_distance=(0,o.hs)(a,l)}let l=(0,o.Wu)(t,e);v(l),l.length>9?w(e=>({...e,isPaginationApply:!0})):A(l)}}catch(e){console.error("Error getting current location:",e)}})()},[e,t]),(0,r.useEffect)(()=>{let a=(0,o.Wu)(t,e);if(_.isCategoryApply?a=(0,o.Wu)(a,[{category_id:Number(j.category_id)}]):_.isCategoryApply||(a=(0,o.Wu)(a,e)),_.isSearchApply){let e=a.filter(e=>e?.voopons_name.toLowerCase()?.includes(k.toLowerCase()));v(e),a=e}else _.isSearchApply||(a=(0,o.Wu)(a,e));if(_.isDateRangeApply){let e=new i.NT(C[0]),t=new i.NT(C[1]);(0,o.rF)(e.format(),t.format())&&v(a=(0,h.Gq)(e.format(),t.format(),a))}else _.isDateRangeApply||(a=(0,o.Wu)(a,e));if(I.length>0){let e=a.filter(e=>(e?.location?.split(", ")||[]).some(e=>I.some(t=>e.includes(t))));v(e),a=e}else I.length;_.isMilesAppy?v(a=(0,h.Fh)(a,F.from,F.to)):_.isMilesAppy||(a=(0,o.Wu)(a,e)),a.length>9&&_.isPaginationApply&&(v(a),a=a.filter((e,t)=>t<9)),N(1),A(a)},[_,I]);let P=(e,t)=>{let a=e.split(" ");return a.length>t?a.slice(0,t).join(" ")+"...":e},W={height:"420Px"};return l.jsx(l.Fragment,{children:(0,l.jsxs)("div",{className:"container",children:[l.jsx("div",{className:"row justify-content-center p-3",children:l.jsx("div",{className:"col-lg-6",children:(0,l.jsxs)("form",{className:"d-flex new-srchbox mb-3",onSubmit:e=>{e.preventDefault(),k?w(e=>({...e,isSearchApply:!0})):w(e=>({...e,isSearchApply:!1})),Z.current&&Z.current.scrollIntoView({behavior:"smooth",block:"start"})},children:[l.jsx("input",{className:"new-srch",type:"search",placeholder:"Search for Voopons","aria-label":"Search",value:k,onChange:e=>{e.target.value?D(e.target.value):(D(e.target.value),w(e=>({...e,isSearchApply:!1})))}}),l.jsx("button",{className:"srch-btn",type:"submit",children:l.jsx(s.default,{width:15,height:16,src:"/images/search.png",alt:""})})]})})}),l.jsx("div",{className:"row",children:l.jsx("div",{className:"col-lg-12 col-md-12",children:(0,l.jsxs)("div",{className:"row",ref:Z,children:[l.jsx("div",{className:"col-lg-12 mb-3",children:(0,l.jsxs)("div",{className:"show-cal-loc-range",children:[l.jsx("div",{className:"calendar",children:l.jsx("div",{className:"broker-date",onClick:()=>f(!1),children:l.jsx(g.Z,{date:C,onChange:e=>{let t=new i.NT(e[0]),a=new i.NT(e[1]);M(e),(0,o.rF)(t.format(),a.format())?w(e=>({...e,isDateRangeApply:!0})):w(e=>({...e,isDateRangeApply:!1})),Z.current&&Z.current.scrollIntoView({behavior:"smooth",block:"start"})}})})}),(0,l.jsxs)("div",{className:"location-drop",children:[(0,l.jsxs)("a",{onClick:()=>f(!a),className:"btn btn-location text-left",role:"button",children:[" ","Location"," "]}),l.jsx("div",{className:"location-drop-list",style:{display:a?"block":"none"},children:l.jsx("form",{children:l.jsx(m.Z,{select:I,setSelect:e=>{T(e)}})})})]}),(0,l.jsxs)("div",{className:"dropdown mile-rad-range date-range",children:[(0,l.jsxs)("a",{className:"btn btn-date-range text-left",type:"button",id:"date-range-drop","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:()=>f(!1),children:["Select your Mile Radius"," "]}),l.jsx(p.Z,{initialValueFrom:0,initialValueTo:100,handleSliderValues:e=>{V({from:e.fromValue,to:e.toValue}),0===e.fromValue&&100===e.toValue?w(e=>({...e,isMilesAppy:!1})):w(e=>({...e,isMilesAppy:!0}))}})]})]})}),Array.isArray(S)&&S.length>0&&S.map((e,t)=>l.jsx("div",{className:"col-lg-4",children:(0,l.jsxs)("div",{className:"voopan-box",style:W,children:[(0,h.p1)(e?.voopons_valid_thru)&&l.jsx("span",{className:"expiring-soon",children:"Expiring soon"}),l.jsx("div",{className:"voopon-logo",children:l.jsx(s.default,{width:125,height:125,src:e?.vooponimage?.image_name?`${d._n}${e?.vooponimage?.image_name}`:"/images/voopons-logo-1.png",alt:""})}),(0,l.jsxs)("div",{style:{height:"50%"},children:[l.jsx("div",{className:"voopon-heading",children:P(e?.voopons_name,2)}),l.jsx("h5",{children:P(e?.voopons_description,4)}),(0,l.jsxs)("p",{children:["Valid Thru:"," ",c.ou.fromFormat(e?.voopons_valid_thru,"yyyy-MM-dd").toFormat("MMMM dd, yyyy")]})]}),l.jsx(n.default,{className:"btn btn-viewmore",href:`/voopons/${e.unique_number}`,role:"button",children:"View More"})]})},e.id)),Array.isArray(S)&&0===S.length&&l.jsx("div",{className:"row",children:l.jsx("p",{className:"noDataText",children:"No Voopons "})}),l.jsx(u.Z,{dataArray:x,pageNo:y,clickPageNumber:e=>{let t=[];for(let e=0;e<x.length;e+=9)t.push(x.slice(e,e+9));Z.current&&Z.current.scrollIntoView({behavior:"smooth",block:"start"}),N(e),A(t[e-1])},pageLimit:9})]})})})]})})}},89007:(e,t,a)=>{a.d(t,{Z:()=>o});var l=a(97247),r=a(28964),n=a(20483),s=a(51036),i=a(29647);let o=({select:e=[],setSelect:t})=>{let{placePredictions:a,getPlacePredictions:o,isPlacePredictionsLoading:c}=(0,s.Z)({apiKey:i.Uu}),[d,u]=(0,r.useState)(""),p=a=>{e.includes(a)?t(e.filter(e=>e!==a)):t([...e,a])},m=()=>{o({input:""}),u(""),t([])};return(0,l.jsxs)("div",{style:{position:"relative"},children:[l.jsx("input",{style:{color:"black"},type:"text",placeholder:"Select Location",value:d,onChange:e=>{o({input:e.target.value}),u(e.target.value)}}),Array.isArray(e)&&e.length>0&&(0,l.jsxs)("a",{onClick:()=>m(),className:"clear-btn",role:"button",children:[" ","Clear"," "]}),!c&&a.length>0&&l.jsx("div",{style:{display:"flex",maxHeight:200,overflowY:"scroll",flexDirection:"column",paddingTop:8},children:a.map(t=>(0,l.jsxs)("div",{style:{margin:4},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[t.structured_formatting.main_text,l.jsx("span",{children:l.jsx("input",{type:"checkbox",id:t.structured_formatting.main_text,name:t.structured_formatting.main_text,value:t.structured_formatting.main_text,checked:e.includes(t.structured_formatting.main_text),onClick:e=>p(e.currentTarget.value)})})]}),l.jsx(n.Z,{})]},t.place_id))})]})}},68534:(e,t,a)=>{a.d(t,{Z:()=>s});var l=a(97247),r=a(28964),n=a(60006);function s({date:e,onChange:t}){let[a,s]=(0,r.useState)(e||[]);return l.jsx(n.ZP,{range:!0,value:a,numberOfMonths:2,dateSeparator:" to ",placeholder:"Start & End Date",onChange:e=>{s(e)},containerStyle:{width:"100%"},minDate:new Date,plugins:[l.jsx(i,{position:"bottom",onApply:e=>{"close"===e?(s([]),t([])):t(a)}},"customToolbar")]})}function i({position:e,datePickerProps:t,calendarProps:a,onApply:r,DatePicker:n}){let s=t||a;return(0,l.jsxs)("div",{className:"drp-bottom-box",children:[(0,l.jsxs)("span",{className:"drp-selected",children:[s?.value[0]?.format()," ",s?.value[1]?.format()&&` to ${s?.value[1]?.format()}`]}),l.jsx("button",{className:"cancelBtn btn btn-sm btn-default",type:"button",onClick:()=>{r("close"),n.closeCalendar()},children:"cancel"}),l.jsx("div",{className:"applyBtn-date applyBtn btn btn-sm btn-primary",onClick:()=>{r(),n.closeCalendar()},children:"Apply"})]})}},87150:(e,t,a)=>{a.d(t,{Z:()=>n});var l=a(97247),r=a(28964);let n=({dataArray:e=[],clickPageNumber:t,pageNo:a,pageLimit:n=9})=>{let s=Math.ceil(e?.length/n),[i,o]=(0,r.useState)(1);(0,r.useEffect)(()=>{o(a)},[a]);let c=e=>{t(e),o(e)};return l.jsx("div",{children:s>1&&l.jsx("div",{className:"col-lg-12 text-center",children:l.jsx("nav",{className:"pagingation-style",children:(0,l.jsxs)("ul",{className:"pagination",children:[l.jsx("li",{className:"page-item",children:l.jsx("a",{className:"page-link",onClick:()=>1!==i&&c(i-1),style:{cursor:"pointer"},children:"Prev"})}),(()=>{let e=[];for(let t=1;t<=s;t++)e.push(l.jsx("li",{className:"page-item",children:l.jsx("a",{className:"page-link",onClick:()=>c(t),style:{cursor:"pointer",color:i===t?"#FFF":"inherit",backgroundColor:i===t?"#F10027":"inherit"},children:t})},t));return e})(),l.jsx("li",{className:"page-item",children:l.jsx("a",{className:"page-link",onClick:()=>i!==s&&c(i+1),style:{cursor:"pointer"},children:"Next"})})]})})})})}},78430:(e,t,a)=>{a.d(t,{Z:()=>n});var l=a(97247),r=a(28964);let n=({initialValueFrom:e,initialValueTo:t,handleSliderValues:a})=>{let[n,s]=(0,r.useState)(e),[i,o]=(0,r.useState)(t);(0,r.useEffect)(()=>{a({fromValue:n,toValue:i})},[n,i]);let c=e=>{let t=parseInt(e.target.value,10);"fromSlider"===e.target.id?t<i&&s(t):"toSlider"===e.target.id&&t>n&&o(t)},d=e=>{let t=parseInt(e.target.value,10);"fromInput"===e.target.id?s(t):"toInput"===e.target.id&&o(t)};return l.jsx("ul",{className:"dropdown-menu w-100 volovo-range","aria-labelledby":"date-range-drop",children:(0,l.jsxs)("div",{className:"miles-inner",children:[(0,l.jsxs)("div",{className:"sliders_control",children:[l.jsx("input",{id:"fromSlider",type:"range",value:n,min:"0",max:"100",onChange:c}),l.jsx("input",{id:"toSlider",type:"range",value:i,min:"0",max:"100",onChange:c})]}),(0,l.jsxs)("div",{className:"form_control",children:[l.jsx("div",{className:"form_control_container",children:l.jsx("input",{className:"form_control_container__time__input",type:"number",id:"fromInput",value:n,min:"0",max:"100",onChange:d})}),l.jsx("div",{className:"form_control_container",children:l.jsx("input",{className:"form_control_container__time__input num-last",type:"number",id:"toInput",value:i,min:"0",max:"100",onChange:d})})]})]})})}},89761:(e,t,a)=>{a.d(t,{Bp:()=>l,W$:()=>d,Wu:()=>r,YZ:()=>n,hk:()=>m,hs:()=>i,j7:()=>c,r8:()=>p,rF:()=>u,vW:()=>s});let l=(e=[],t=[])=>{let a=[];for(let l of e){let e=0;for(let a of t)Number(a.category_id)===Number(l.category_id)&&(e+=1);a.push({...l,count:e})}return a.filter(e=>0!==e.count)},r=(e=[],t=[])=>{let a=[];for(let l of e)for(let e of t)Number(e.category_id)===Number(l.category_id)&&a.push(l);return a},n=e=>{let[t,a]=e.split(":").map(Number);if(isNaN(t)||t<0||t>23)return"Invalid time format";let l=t>=12?"PM":"AM",r=t%12||12;return!isNaN(a)&&a>=0&&a<=59?`${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")} ${l}`:`${String(r).padStart(2,"0")}:${String(0).padStart(2,"0")} ${l}`};function s(){return new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(t=>e(t.coords),e=>t(e))})}function i(e,t){let a=o(e.latitude),l=o(t.longitude),r=o(t.latitude-e.latitude),n=o(t.longitude-e.longitude),s=Math.sin(r/2)*Math.sin(r/2)+Math.cos(a)*Math.cos(l)*Math.sin(n/2)*Math.sin(n/2);return+(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*3958.754641).toFixed(2)}function o(e){return Math.PI/180*e}function c(e,t,a){let l=new Date(e),r=new Date(t);if(isNaN(l.getTime())||isNaN(r.getTime()))throw Error("Invalid date format");return a.filter(e=>{let t=new Date(e.events_date);return t>=l&&t<=r})}function d(e,t,a,l){let r=new Date(e),n=new Date(t);if(isNaN(r.getTime())||isNaN(n.getTime()))throw Error("Invalid date format");return a.filter(e=>{let t=new Date(e?.[l]?.events_date);return t>=r&&t<=n})}function u(e,t){return new Date(e.replace(/-/g,"/"))<new Date(t.replace(/-/g,"/"))}function p(e,t,a){return e.filter(e=>{let l=e.event_away_distance;return void 0!==l&&l>=t&&l<=a})}let m=(e,t)=>e?e.length>t?e.substring(0,t)+"...":e:""},53276:(e,t,a)=>{function l(e){let[t,a,l]=e?.split("-"),r=new Date(parseInt(t),parseInt(a)-1,parseInt(l)),n=new Date,s=(r.getTime()-n.getTime())/864e5;return!(s<0)&&s<=7}function r(e,t,a){return e.filter(e=>{let l=e.voopan_away_distance;return void 0!==l&&l>=t&&l<=a})}function n(e,t,a){let l=new Date(e),r=new Date(t);if(isNaN(l.getTime())||isNaN(r.getTime()))throw Error("Invalid date format");return a.filter(e=>{let t=new Date(e.voopons_date);return t>=l&&t<=r})}a.d(t,{Fh:()=>r,Gq:()=>n,p1:()=>l})}};