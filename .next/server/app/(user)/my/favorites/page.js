(()=>{var e={};e.id=7139,e.ids=[7139],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},77309:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),s(94376),s(15458),s(73198),s(78993);var r=s(30170),a=s(45002),i=s(83876),n=s.n(i),o=s(66299),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["(user)",{children:["my",{children:["favorites",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,94376)),"/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/(user)/my/favorites/page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,15458)),"/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/(user)/layout.js"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,73198)),"/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(s.bind(s,78993)),"/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/(user)/my/favorites/page.js"],u="/(user)/my/favorites/page",h={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(user)/my/favorites/page",pathname:"/my/favorites",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},27111:(e,t,s)=>{Promise.resolve().then(s.bind(s,76856))},59268:(e,t,s)=>{Promise.resolve().then(s.bind(s,83581))},76856:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(97247),a=s(79906),i=s(44597),n=s(34178),o=s(28964),l=s(87253);function d({children:e}){let t=(0,n.usePathname)();(0,n.useRouter)();let{isAuthenticated:s}=(0,l.a)(),[d,c]=(0,o.useState)(!1);console.log(s,"heloo authenticated data h");let[u,h]=(0,o.useState)(!0);return d&&s?s&&(t.startsWith("/my/voopons/")||t.startsWith("/my/events/"))?r.jsx(r.Fragment,{children:e}):r.jsx(r.Fragment,{children:r.jsx("section",{className:"user-dashboard",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"row",children:r.jsx("div",{className:"col-lg-12",children:(0,r.jsxs)("div",{className:"user-dashboard-inner",children:[r.jsx("div",{className:"user-dashboard-list",children:(0,r.jsxs)("ul",{children:[r.jsx("li",{children:(0,r.jsxs)(a.default,{href:"/my/profile",className:"/my/profile"===t||"/my"===t?"active":"",children:[r.jsx(i.default,{width:22,height:22,src:"/images/user-dashboard/icons/1.svg",alt:"My Profile"})," ","My Profile"]})}),r.jsx("li",{children:(0,r.jsxs)(a.default,{href:"/my/voopons",className:"/my/voopons"===t?"active":"",children:[r.jsx(i.default,{width:22,height:22,src:"/images/user-dashboard/icons/2.svg",alt:"My Voopons"})," ","My Voopons"]})}),r.jsx("li",{children:(0,r.jsxs)(a.default,{href:"/my/events",className:"/my/events"===t?"active":"",children:[r.jsx(i.default,{width:22,height:22,src:"/images/user-dashboard/icons/3.svg",alt:"My Events"})," ","My Events"]})}),r.jsx("li",{children:(0,r.jsxs)(a.default,{href:"/payment-method",className:"/payment-method"===t?"active":"",children:[r.jsx(i.default,{width:22,height:22,src:"/images/user-dashboard/icons/4.svg",alt:"Payment Method"})," ","Payment Method"]})}),r.jsx("li",{children:(0,r.jsxs)(a.default,{href:"/my/interests",className:"/my/interests"===t?"active":"",children:[r.jsx(i.default,{width:22,height:22,src:"/images/user-dashboard/icons/5.svg",alt:"My Interests"})," ","My Interests"]})}),r.jsx("li",{children:(0,r.jsxs)(a.default,{href:"/my/favorites",className:"/my/favorites"===t?"active":"",children:[r.jsx(i.default,{width:22,height:22,src:"/images/user-dashboard/icons/6.svg",alt:"My Favorites"})," ","My Favorites"]})}),r.jsx("li",{children:(0,r.jsxs)(a.default,{href:"/refer-friend",className:"/refer-friend"===t?"active":"",children:[r.jsx(i.default,{width:22,height:22,src:"/images/user-dashboard/icons/7.svg",alt:"Refer A Friend"})," ","Refer A Friend"]})})]})}),e]})})})})})}):null}},83581:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var r=s(97247),a=s(87253),i=s(37073),n=s(29647),o=s(44597);s(22523);var l=s(79906),d=s(28964),c=s(87150),u=s(10863),h=s(89761);async function m(e){let t=new FormData;t.append("user_id",e);let s=await fetch(`${n._n}/api/user_home_screen_my_favorites_brand_business_list`,{method:"POST",body:t}),r=await s.json();if(!s.ok)throw Error("Failed to fetch data");return{favoriteList:r.data}}let f=()=>{let{userDetails:e}=(0,a.a)(),[t,s]=(0,d.useState)(!0),[f,p]=(0,d.useState)({favoriteList:[]}),[v,x]=(0,d.useState)(null),[g,j]=(0,d.useState)(1),[y,b]=(0,d.useState)([]),w=(0,d.useRef)(null),[k,N]=(0,d.useState)(!0),[_,P]=(0,d.useState)({});console.log(_,"fasdfsdfg"),(0,d.useEffect)(()=>{P(y.reduce((e,t)=>(e[t.id]=!0,e),{}))},[y]);let M=async t=>{let s=new FormData;s.append("user_id",e.user_id),s.append("business_id",t.toString()),s.append("like_status","0");try{let r=await u.Z.post(`${n._n}/api/auth/user_favorite_business`,s,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${e.token}`}});P(e=>({...e,[t]:!1})),N(e=>!e),console.log(r.data,"response of like data")}catch(e){console.error("Error updating like status:",e)}};return((0,d.useEffect)(()=>{(async()=>{if(!e||!e.user_id){s(!1);return}try{let t=await m(e.user_id);p(t),b(t.favoriteList.slice(0,9))}catch(e){x(e.message||"An error occurred")}finally{s(!1)}})()},[e,k]),t)?r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:r.jsx(i.Z,{loading:t})}):v?r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:r.jsx("p",{children:v})}):f.favoriteList.length?(0,r.jsxs)("div",{className:"user-dashboard-data",ref:w,children:[r.jsx("div",{className:"user-my-favorites",children:r.jsx("h1",{children:"My Favorites"})}),(0,r.jsxs)("div",{className:"user-my-favorites-inner",children:[y.map(e=>(0,r.jsxs)("div",{className:"event-brand-box",children:[(0,r.jsxs)("div",{className:"brand-logo",children:[(0,r.jsxs)("div",{className:"brand-heart",children:[r.jsx("input",{type:"checkbox",id:`favorite-${e.id}`,checked:!0===_[e.id],onChange:()=>M(e.id),"aria-label":`Favorite ${e.name}`}),r.jsx("label",{htmlFor:`favorite-${e.id}`,children:r.jsx("img",{src:!0===_[e.id]?"/images/user-bookmark-2.png":"/images/user-bookmark.png",alt:"Bookmark",width:25,height:23})})]}),r.jsx(o.default,{width:285,height:223,src:e.profile_image?n._n+e.profile_image:"/images/near-event3.png",alt:e.name})]}),(0,r.jsxs)("div",{className:"event-pad",children:[r.jsx("h6",{children:e?.name}),r.jsx("p",{children:(0,h.hk)(e?.description,10)}),(0,r.jsxs)("div",{className:"point-icon",children:[(0,r.jsxs)("span",{children:[" ",r.jsx(o.default,{width:20,height:20,src:"/images/location-dot.png",alt:""})," ",e?.distance||0," miles away"," "]}),r.jsx("span",{children:r.jsx(o.default,{width:20,height:20,src:"/images/calendar.png",alt:""})}),e?.location&&(0,r.jsxs)("span",{children:[r.jsx(o.default,{width:20,height:20,src:"/images/loc-mark.svg",alt:""})," ",e?.location," "]})]}),r.jsx(l.default,{className:"btn btn-viewmore-border ",href:`/businesses/${e?.id}?business_id=${e?.id}`,role:"button",children:"View More"})]})]},e.id)),r.jsx(c.Z,{dataArray:f.favoriteList,pageNo:g,clickPageNumber:e=>{let t=(e-1)*9,s=f.favoriteList.slice(t,t+9);w.current&&w.current.scrollIntoView({behavior:"smooth",block:"start"}),j(e),b(s)},pageLimit:9})]})]}):r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:r.jsx("p",{children:"No favorites found."})})}},87150:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(97247),a=s(28964);let i=({dataArray:e=[],clickPageNumber:t,pageNo:s,pageLimit:i=9})=>{let n=Math.ceil(e?.length/i),[o,l]=(0,a.useState)(1);(0,a.useEffect)(()=>{l(s)},[s]);let d=e=>{t(e),l(e)};return r.jsx("div",{children:n>1&&r.jsx("div",{className:"col-lg-12 text-center",children:r.jsx("nav",{className:"pagingation-style",children:(0,r.jsxs)("ul",{className:"pagination",children:[r.jsx("li",{className:"page-item",children:r.jsx("a",{className:"page-link",onClick:()=>1!==o&&d(o-1),style:{cursor:"pointer"},children:"Prev"})}),(()=>{let e=[];for(let t=1;t<=n;t++)e.push(r.jsx("li",{className:"page-item",children:r.jsx("a",{className:"page-link",onClick:()=>d(t),style:{cursor:"pointer",color:o===t?"#FFF":"inherit",backgroundColor:o===t?"#F10027":"inherit"},children:t})},t));return e})(),r.jsx("li",{className:"page-item",children:r.jsx("a",{className:"page-link",onClick:()=>o!==n&&d(o+1),style:{cursor:"pointer"},children:"Next"})})]})})})})}},37073:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var r=s(97247),a=s(18319),i=s.n(a);s(28964);var n=s(30562),o=s.n(n);let l=({loading:e})=>(0,r.jsxs)("div",{className:"jsx-37cb8f3f1de06620 loader",children:[r.jsx(o(),{color:"#3498db",size:100,loading:e}),r.jsx("p",{className:"jsx-37cb8f3f1de06620",children:"Loading..."}),r.jsx(i(),{id:"37cb8f3f1de06620",children:".loader.jsx-37cb8f3f1de06620{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;height:100vh;font-size:1.5rem}"})]})},89761:(e,t,s)=>{"use strict";s.d(t,{Bp:()=>r,W$:()=>c,Wu:()=>a,YZ:()=>i,hk:()=>m,hs:()=>o,j7:()=>d,r8:()=>h,rF:()=>u,vW:()=>n});let r=(e=[],t=[])=>{let s=[];for(let r of e){let e=0;for(let s of t)Number(s.category_id)===Number(r.category_id)&&(e+=1);s.push({...r,count:e})}return s.filter(e=>0!==e.count)},a=(e=[],t=[])=>{let s=[];for(let r of e)for(let e of t)Number(e.category_id)===Number(r.category_id)&&s.push(r);return s},i=e=>{let[t,s]=e.split(":").map(Number);if(isNaN(t)||t<0||t>23)return"Invalid time format";let r=t>=12?"PM":"AM",a=t%12||12;return!isNaN(s)&&s>=0&&s<=59?`${String(a).padStart(2,"0")}:${String(s).padStart(2,"0")} ${r}`:`${String(a).padStart(2,"0")}:${String(0).padStart(2,"0")} ${r}`};function n(){return new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(t=>e(t.coords),e=>t(e))})}function o(e,t){let s=l(e.latitude),r=l(t.longitude),a=l(t.latitude-e.latitude),i=l(t.longitude-e.longitude),n=Math.sin(a/2)*Math.sin(a/2)+Math.cos(s)*Math.cos(r)*Math.sin(i/2)*Math.sin(i/2);return+(2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))*3958.754641).toFixed(2)}function l(e){return Math.PI/180*e}function d(e,t,s){let r=new Date(e),a=new Date(t);if(isNaN(r.getTime())||isNaN(a.getTime()))throw Error("Invalid date format");return s.filter(e=>{let t=new Date(e.events_date);return t>=r&&t<=a})}function c(e,t,s,r){let a=new Date(e),i=new Date(t);if(isNaN(a.getTime())||isNaN(i.getTime()))throw Error("Invalid date format");return s.filter(e=>{let t=new Date(e?.[r]?.events_date);return t>=a&&t<=i})}function u(e,t){return new Date(e.replace(/-/g,"/"))<new Date(t.replace(/-/g,"/"))}function h(e,t,s){return e.filter(e=>{let r=e.event_away_distance;return void 0!==r&&r>=t&&r<=s})}let m=(e,t)=>e?e.length>t?e.substring(0,t)+"...":e:""},15458:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(45347).createProxy)(String.raw`/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/(user)/layout.js#default`)},94376:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(45347).createProxy)(String.raw`/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/(user)/my/favorites/page.js#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[9379,1206,2523,2808,863,6433],()=>s(77309));module.exports=r})();