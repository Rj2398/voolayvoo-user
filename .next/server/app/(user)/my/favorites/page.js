(()=>{var e={};e.id=7139,e.ids=[7139],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},77309:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),t(94376),t(15458),t(73198),t(78993);var r=t(30170),a=t(45002),i=t(83876),n=t.n(i),o=t(66299),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let d=["",{children:["(user)",{children:["my",{children:["favorites",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,94376)),"/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/(user)/my/favorites/page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,15458)),"/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/(user)/layout.js"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,73198)),"/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(t.bind(t,78993)),"/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/(user)/my/favorites/page.js"],u="/(user)/my/favorites/page",h={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(user)/my/favorites/page",pathname:"/my/favorites",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},27111:(e,s,t)=>{Promise.resolve().then(t.bind(t,76856))},59268:(e,s,t)=>{Promise.resolve().then(t.bind(t,83581))},76856:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var r=t(97247),a=t(79906),i=t(44597),n=t(34178),o=t(28964),l=t(87253);function d({children:e}){let s=(0,n.usePathname)();(0,n.useRouter)();let{isAuthenticated:t}=(0,l.a)(),[d,c]=(0,o.useState)(!1);console.log(t,"heloo authenticated data h");let[u,h]=(0,o.useState)(!0);return d&&t?t&&(s.startsWith("/my/voopons/")||s.startsWith("/my/events/"))?r.jsx(r.Fragment,{children:e}):r.jsx(r.Fragment,{children:r.jsx("section",{className:"user-dashboard",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"row",children:r.jsx("div",{className:"col-lg-12",children:(0,r.jsxs)("div",{className:"user-dashboard-inner",children:[r.jsx("div",{className:"user-dashboard-list",children:(0,r.jsxs)("ul",{children:[r.jsx("li",{children:(0,r.jsxs)(a.default,{href:"/my/profile",className:"/my/profile"===s||"/my"===s?"active":"",children:[r.jsx(i.default,{width:22,height:22,src:"/images/user-dashboard/icons/1.svg",alt:"My Profile"})," ","My Profile"]})}),r.jsx("li",{children:(0,r.jsxs)(a.default,{href:"/my/voopons",className:"/my/voopons"===s?"active":"",children:[r.jsx(i.default,{width:22,height:22,src:"/images/user-dashboard/icons/2.svg",alt:"My Voopons"})," ","My Voopons"]})}),r.jsx("li",{children:(0,r.jsxs)(a.default,{href:"/my/events",className:"/my/events"===s?"active":"",children:[r.jsx(i.default,{width:22,height:22,src:"/images/user-dashboard/icons/3.svg",alt:"My Events"})," ","My Events"]})}),r.jsx("li",{children:(0,r.jsxs)(a.default,{href:"/payment-method",className:"/payment-method"===s?"active":"",children:[r.jsx(i.default,{width:22,height:22,src:"/images/user-dashboard/icons/4.svg",alt:"Payment Method"})," ","Payment Method"]})}),r.jsx("li",{children:(0,r.jsxs)(a.default,{href:"/my/interests",className:"/my/interests"===s?"active":"",children:[r.jsx(i.default,{width:22,height:22,src:"/images/user-dashboard/icons/5.svg",alt:"My Interests"})," ","My Interests"]})}),r.jsx("li",{children:(0,r.jsxs)(a.default,{href:"/my/favorites",className:"/my/favorites"===s?"active":"",children:[r.jsx(i.default,{width:22,height:22,src:"/images/user-dashboard/icons/6.svg",alt:"My Favorites"})," ","My Favorites"]})}),r.jsx("li",{children:(0,r.jsxs)(a.default,{href:"/refer-friend",className:"/refer-friend"===s?"active":"",children:[r.jsx(i.default,{width:22,height:22,src:"/images/user-dashboard/icons/7.svg",alt:"Refer A Friend"})," ","Refer A Friend"]})})]})}),e]})})})})})}):null}},83581:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var r=t(97247),a=t(87253),i=t(37073),n=t(29647),o=t(44597);t(22523);var l=t(79906),d=t(28964),c=t(87150),u=t(10863),h=t(89761);async function m(e,s){let t=new FormData;t.append("user_id",e);let r=await fetch(`${n._n}/api/auth/user_favorite_business_get`,{method:"POST",headers:{Authorization:`Bearer ${s}`},body:t}),a=await r.json();if(!r.ok)throw Error("Failed to fetch data");return{favoriteList:a.data}}let f=()=>{let{userDetails:e}=(0,a.a)(),[s,t]=(0,d.useState)(!0),[f,p]=(0,d.useState)({favoriteList:[]}),[v,x]=(0,d.useState)(null),[g,j]=(0,d.useState)(1),[b,y]=(0,d.useState)([]),w=(0,d.useRef)(null),[_,k]=(0,d.useState)(!0),[N,P]=(0,d.useState)({});(0,d.useEffect)(()=>{P(b.reduce((e,s)=>(e[s.business_id]=!0,e),{}))},[b]);let M=async s=>{let t=new FormData;t.append("user_id",e.user_id),t.append("business_id",s),t.append("like_status","0");try{await u.Z.post(`${n._n}/api/auth/user_favorite_business`,t,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${e.token}`}}),P(e=>({...e,[s]:!1})),k(e=>!e)}catch(e){console.error("Error updating like status:",e)}};return((0,d.useEffect)(()=>{(async()=>{if(!e||!e.user_id){t(!1);return}try{let s=await m(e.user_id,e?.token);p(s),y(s.favoriteList.slice(0,9))}catch(e){x(e.message||"An error occurred")}finally{t(!1)}})()},[e,_]),s)?r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:r.jsx(i.Z,{loading:s})}):v?r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:r.jsx("p",{children:v})}):f.favoriteList.length?(0,r.jsxs)("div",{className:"user-dashboard-data",ref:w,children:[r.jsx("div",{className:"user-my-favorites",children:r.jsx("h1",{children:"My Favorites"})}),(0,r.jsxs)("div",{className:"user-my-favorites-inner",children:[b.map((e,s)=>(console.log(e,"businessbusinessbusiness"),(0,r.jsxs)("div",{className:"event-brand-box",children:[(0,r.jsxs)("div",{className:"brand-logo",children:[(0,r.jsxs)("div",{className:"brand-heart",children:[r.jsx("input",{type:"checkbox",id:`favorite-${e.business_id}`,checked:!0===N[e.business_id],onChange:()=>M(e?.business_id),"aria-label":`Favorite ${e.name}`}),r.jsx("label",{htmlFor:`favorite-${e.business_id}`,children:r.jsx("img",{src:!0===N[e.business_id]?"/images/user-bookmark-2.png":"/images/user-bookmark.png",alt:"Bookmark",width:25,height:23})})]}),r.jsx(o.default,{width:285,height:223,src:e.business_favourite?.profile_image?n._n+e.business_favourite?.profile_image:"/images/near-event3.png",alt:e.name})]}),(0,r.jsxs)("div",{className:"event-pad",children:[r.jsx("h6",{children:e.business_favourite?.name}),r.jsx("p",{children:(0,h.hk)(e?.business_favourite?.business_favourite,10)}),(0,r.jsxs)("div",{className:"point-icon",children:[(0,r.jsxs)("span",{children:[" ",r.jsx(o.default,{width:20,height:20,src:"/images/location-dot.png",alt:""})," ",e?.distance||0," miles away"," "]}),r.jsx("span",{children:r.jsx(o.default,{width:20,height:20,src:"/images/calendar.png",alt:""})}),e?.business_favourite?.location&&(0,r.jsxs)("span",{children:[r.jsx(o.default,{width:20,height:20,src:"/images/loc-mark.svg",alt:""})," ",e?.business_favourite?.location," "]})]}),r.jsx(l.default,{className:"btn btn-viewmore-border ",href:`/businesses/${e?.business_id}?business_id=${e?.business_id}`,role:"button",children:"View More"})]})]},e.id+s))),r.jsx(c.Z,{dataArray:f.favoriteList,pageNo:g,clickPageNumber:e=>{let s=(e-1)*9,t=f.favoriteList.slice(s,s+9);w.current&&w.current.scrollIntoView({behavior:"smooth",block:"start"}),j(e),y(t)},pageLimit:9})]})]}):r.jsx("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center"},children:r.jsx("p",{style:{fontSize:30},children:"No favorites found."})})}},87150:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var r=t(97247),a=t(28964);let i=({dataArray:e=[],clickPageNumber:s,pageNo:t,pageLimit:i=9})=>{let n=Math.ceil(e?.length/i),[o,l]=(0,a.useState)(1);(0,a.useEffect)(()=>{l(t)},[t]);let d=e=>{s(e),l(e)};return r.jsx("div",{children:n>1&&r.jsx("div",{className:"col-lg-12 text-center",children:r.jsx("nav",{className:"pagingation-style",children:(0,r.jsxs)("ul",{className:"pagination",children:[r.jsx("li",{className:"page-item",children:r.jsx("a",{className:"page-link",onClick:()=>1!==o&&d(o-1),style:{cursor:"pointer"},children:"Prev"})}),(()=>{let e=[];for(let s=1;s<=n;s++)e.push(r.jsx("li",{className:"page-item",children:r.jsx("a",{className:"page-link",onClick:()=>d(s),style:{cursor:"pointer",color:o===s?"#FFF":"inherit",backgroundColor:o===s?"#F10027":"inherit"},children:s})},s));return e})(),r.jsx("li",{className:"page-item",children:r.jsx("a",{className:"page-link",onClick:()=>o!==n&&d(o+1),style:{cursor:"pointer"},children:"Next"})})]})})})})}},37073:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var r=t(97247),a=t(18319),i=t.n(a);t(28964);var n=t(30562),o=t.n(n);let l=({loading:e})=>(0,r.jsxs)("div",{className:"jsx-37cb8f3f1de06620 loader",children:[r.jsx(o(),{color:"#3498db",size:100,loading:e}),r.jsx("p",{className:"jsx-37cb8f3f1de06620",children:"Loading..."}),r.jsx(i(),{id:"37cb8f3f1de06620",children:".loader.jsx-37cb8f3f1de06620{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;height:100vh;font-size:1.5rem}"})]})},89761:(e,s,t)=>{"use strict";t.d(s,{Bp:()=>r,W$:()=>c,Wu:()=>a,YZ:()=>i,hk:()=>m,hs:()=>o,j7:()=>d,r8:()=>h,rF:()=>u,vW:()=>n});let r=(e=[],s=[])=>{let t=[];for(let r of e){let e=0;for(let t of s)Number(t.category_id)===Number(r.category_id)&&(e+=1);t.push({...r,count:e})}return t.filter(e=>0!==e.count)},a=(e=[],s=[])=>{let t=[];for(let r of e)for(let e of s)Number(e.category_id)===Number(r.category_id)&&t.push(r);return t},i=e=>{let[s,t]=e.split(":").map(Number);if(isNaN(s)||s<0||s>23)return"Invalid time format";let r=s>=12?"PM":"AM",a=s%12||12;return!isNaN(t)&&t>=0&&t<=59?`${String(a).padStart(2,"0")}:${String(t).padStart(2,"0")} ${r}`:`${String(a).padStart(2,"0")}:${String(0).padStart(2,"0")} ${r}`};function n(){return new Promise((e,s)=>{navigator.geolocation.getCurrentPosition(s=>e(s.coords),e=>s(e))})}function o(e,s){let t=l(e.latitude),r=l(s.longitude),a=l(s.latitude-e.latitude),i=l(s.longitude-e.longitude),n=Math.sin(a/2)*Math.sin(a/2)+Math.cos(t)*Math.cos(r)*Math.sin(i/2)*Math.sin(i/2);return+(2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))*3958.754641).toFixed(2)}function l(e){return Math.PI/180*e}function d(e,s,t){let r=new Date(e),a=new Date(s);if(isNaN(r.getTime())||isNaN(a.getTime()))throw Error("Invalid date format");return t.filter(e=>{let s=new Date(e.events_date);return s>=r&&s<=a})}function c(e,s,t,r){let a=new Date(e),i=new Date(s);if(isNaN(a.getTime())||isNaN(i.getTime()))throw Error("Invalid date format");return t.filter(e=>{let s=new Date(e?.[r]?.events_date);return s>=a&&s<=i})}function u(e,s){return new Date(e.replace(/-/g,"/"))<new Date(s.replace(/-/g,"/"))}function h(e,s,t){return e.filter(e=>{let r=e.event_away_distance;return void 0!==r&&r>=s&&r<=t})}let m=(e,s)=>e?e.length>s?e.substring(0,s)+"...":e:""},15458:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(45347).createProxy)(String.raw`/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/(user)/layout.js#default`)},94376:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(45347).createProxy)(String.raw`/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/(user)/my/favorites/page.js#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[9379,8966,2523,2808,6433],()=>t(77309));module.exports=r})();