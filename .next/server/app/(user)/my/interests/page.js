(()=>{var e={};e.id=8962,e.ids=[8962],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},69358:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>o.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>y,tree:()=>c}),r(92645),r(15458),r(73198),r(78993);var a=r(30170),t=r(45002),i=r(83876),o=r.n(i),l=r(66299),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);r.d(s,n);let c=["",{children:["(user)",{children:["my",{children:["interests",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,92645)),"/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/(user)/my/interests/page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,15458)),"/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/(user)/layout.js"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,73198)),"/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,78993)),"/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/(user)/my/interests/page.js"],u="/(user)/my/interests/page",h={require:r,loadChunk:()=>Promise.resolve()},y=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/(user)/my/interests/page",pathname:"/my/interests",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},27111:(e,s,r)=>{Promise.resolve().then(r.bind(r,76856))},72545:(e,s,r)=>{Promise.resolve().then(r.bind(r,6136))},76856:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>c});var a=r(97247),t=r(79906),i=r(44597),o=r(34178),l=r(28964),n=r(87253);function c({children:e}){let s=(0,o.usePathname)();(0,o.useRouter)();let{isAuthenticated:r}=(0,n.a)(),[c,d]=(0,l.useState)(!1);console.log(r,"heloo authenticated data h");let[u,h]=(0,l.useState)(!0);return c&&r?r&&(s.startsWith("/my/voopons/")||s.startsWith("/my/events/"))?a.jsx(a.Fragment,{children:e}):a.jsx(a.Fragment,{children:a.jsx("section",{className:"user-dashboard",children:a.jsx("div",{className:"container",children:a.jsx("div",{className:"row",children:a.jsx("div",{className:"col-lg-12",children:(0,a.jsxs)("div",{className:"user-dashboard-inner",children:[a.jsx("div",{className:"user-dashboard-list",children:(0,a.jsxs)("ul",{children:[a.jsx("li",{children:(0,a.jsxs)(t.default,{href:"/my/profile",className:"/my/profile"===s||"/my"===s?"active":"",children:[a.jsx(i.default,{width:22,height:22,src:"/images/user-dashboard/icons/1.svg",alt:"My Profile"})," ","My Profile"]})}),a.jsx("li",{children:(0,a.jsxs)(t.default,{href:"/my/voopons",className:"/my/voopons"===s?"active":"",children:[a.jsx(i.default,{width:22,height:22,src:"/images/user-dashboard/icons/2.svg",alt:"My Voopons"})," ","My Voopons"]})}),a.jsx("li",{children:(0,a.jsxs)(t.default,{href:"/my/events",className:"/my/events"===s?"active":"",children:[a.jsx(i.default,{width:22,height:22,src:"/images/user-dashboard/icons/3.svg",alt:"My Events"})," ","My Events"]})}),a.jsx("li",{children:(0,a.jsxs)(t.default,{href:"/payment-method",className:"/payment-method"===s?"active":"",children:[a.jsx(i.default,{width:22,height:22,src:"/images/user-dashboard/icons/4.svg",alt:"Payment Method"})," ","Payment Method"]})}),a.jsx("li",{children:(0,a.jsxs)(t.default,{href:"/my/interests",className:"/my/interests"===s?"active":"",children:[a.jsx(i.default,{width:22,height:22,src:"/images/user-dashboard/icons/5.svg",alt:"My Interests"})," ","My Interests"]})}),a.jsx("li",{children:(0,a.jsxs)(t.default,{href:"/my/favorites",className:"/my/favorites"===s?"active":"",children:[a.jsx(i.default,{width:22,height:22,src:"/images/user-dashboard/icons/6.svg",alt:"My Favorites"})," ","My Favorites"]})}),a.jsx("li",{children:(0,a.jsxs)(t.default,{href:"/refer-friend",className:"/refer-friend"===s?"active":"",children:[a.jsx(i.default,{width:22,height:22,src:"/images/user-dashboard/icons/7.svg",alt:"Refer A Friend"})," ","Refer A Friend"]})})]})}),e]})})})})})}):null}},6136:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>p});var a=r(97247),t=r(87253),i=r(44269),o=r(44597),l=r(79906),n=r(34178),c=r(28964),d=r(48431);let u=({list:e=[],fullwidth:s=!1})=>{let[r,o]=(0,c.useState)(""),[u,m]=(0,c.useState)(e);(0,c.useEffect)(()=>{m(e)},[e]),console.log(u,"*****************");let[g,f]=(0,c.useState)([]),{userDetails:p}=(0,t.a)(),j=(0,n.useRouter)();console.log(e,"hello list data comes from");let v=(0,c.useCallback)(s=>{let{value:r}=s.target;o(r),""===r&&m(e)},[e]),_=s=>{s.preventDefault(),r?m(e.filter(e=>e?.category_name.toLowerCase().includes(r.toLowerCase()))):m(e)},b=(0,c.useCallback)(e=>{f(s=>s.map(s=>({...s,subCategoryArray:s?.subCategoryArray.filter(s=>!(s?.sub_category_id===e?.sub_category_id&&s?.sub_category_name===e?.sub_category_name))})))},[]);(0,c.useEffect)(()=>{let s=e.filter(e=>"Yes"===e.like).map(e=>({category_id:e.category_id,subCategoryArray:e.subcategory.filter(e=>"Yes"===e.like).map(e=>({sub_category_id:e.sub_category_id,sub_category_name:e.sub_category_name}))}));f(e=>[...s])},[e]);let x=async e=>{e.preventDefault();let s=g.filter(e=>e.subCategoryArray.length>0).map(e=>({category_id:e.category_id,sub_category_id:e.subCategoryArray.map(e=>e.sub_category_id).join(",")})),r={user_id:p?.user_id,selectionList:s};try{let e=await (0,i.Nh)({data:r,endpoint:"user_interest_create",authToken:p.token});if(e?.success)d.toast.success(e?.message),j.push("/my/profile/");else throw e}catch(e){d.toast.error(`${e}`)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"deals-inner-search",children:[a.jsx("form",{action:"",children:(0,a.jsxs)("label",{htmlFor:"",className:"interests-search",children:[a.jsx("input",{type:"text",placeholder:"Search for Categories",value:r,onKeyDown:e=>{"Enter"===e.key&&_(e)},onChange:v}),a.jsx("button",{onClick:_,children:a.jsx("img",{src:"/images/search.png",alt:"Search"})})]})}),a.jsx("p",{children:"Sharing your interests would help us curate personalized Voopons & Events for you."})]}),a.jsx("div",{className:`deals-inner-heading ${s?"w-100":""}`,children:a.jsx("h1",{children:"My Interests"})}),a.jsx("div",{className:`interests-filters ${s?"w-100":""}`,children:a.jsx("ul",{children:g.length>0?g.map(e=>e?.subCategoryArray?.length>0?e.subCategoryArray.map(e=>a.jsx(h,{subCat:e,removeTab:b},e.sub_category_id)):null):a.jsx("p",{children:"No interests selected yet."})})}),(0,a.jsxs)("div",{className:"interests-list",children:[u.length>0&&u.map(e=>a.jsx(y,{item:e,setSelectionList:f,selectionList:g},"cat"+e?.category_id)),e.filter(e=>"Yes"===e.like&&!u.some(s=>s.category_id===e.category_id)).map(e=>a.jsx(y,{item:e,setSelectionList:f,selectionList:g},"likeCat"+e?.category_id))]}),a.jsx("div",{className:"interest-btn",children:a.jsx(l.default,{href:"#",onClick:x,children:"SUBMIT"})})]})},h=({subCat:e,removeTab:s})=>{let r=(0,c.useCallback)(r=>{r.preventDefault(),s(e)},[s,e]);return(0,a.jsxs)("li",{children:[e.sub_category_name,a.jsx(l.default,{href:"#",onClick:r,children:a.jsx(o.default,{src:"/images/interests/icons_cross.png",alt:"cross",width:15,height:15})})]})},y=({item:e,setSelectionList:s,selectionList:r})=>{console.log(r,"set selection list data"),console.log(e,"item data from category list");let[t,i]=(0,c.useState)(!0),o=(0,c.useCallback)(()=>{i(e=>!e)},[]),l=(0,c.useCallback)(r=>{s(s=>{let a=s.findIndex(s=>s.category_id===e.category_id);if(-1===a)return[...s,{category_id:e.category_id,subCategoryArray:[r]}];if(-1===s[a].subCategoryArray.findIndex(e=>e.sub_category_id===r.sub_category_id))return s.map((e,s)=>s===a?{...e,subCategoryArray:[...e.subCategoryArray,r]}:e);{let e=s[a].subCategoryArray.filter(e=>e.sub_category_id!==r.sub_category_id);return 0===e.length?s.filter((e,s)=>s!==a):s.map((s,r)=>r===a?{...s,subCategoryArray:e}:s)}})},[e,s]);return(0,a.jsxs)("div",{className:"deal-search-filter",children:[a.jsx("div",{onClick:o,children:(0,a.jsxs)("h2",{children:[e.category_name," ",a.jsx("i",{className:`fas fa-chevron-down ${t?"down-side":""}`})]})}),t&&a.jsx("div",{className:"deal-search-filter-list",children:a.jsx("ul",{className:"deal-search-filter-list-scroll",children:e.subcategory.map(e=>a.jsx(m,{subItem:e,handleSelection:l,selectionList:r},e.sub_category_id))})})]})},m=({subItem:e,handleSelection:s,selectionList:r})=>{let[t,i]=(0,c.useState)(!1),o=(0,c.useCallback)(r=>{r.preventDefault(),s(e)},[s,e]);return(0,c.useEffect)(()=>{i(r.some(s=>s.subCategoryArray.some(s=>s.sub_category_id===e.sub_category_id)))},[e,r]),a.jsx("li",{children:(0,a.jsxs)(l.default,{href:"#",onClick:o,children:[e?.sub_category_name,a.jsx("input",{type:"checkbox",checked:t,readOnly:!0})]})})};var g=r(29647);async function f(e){let s=new FormData;s.append("user_id",e);let r=await fetch(`${g._n}/api/user_category_sub_category_mobile`,{method:"POST",body:s}),a=await r.json(),t={};if(a.data?.forEach(e=>{t[e.id]||(t[e.id]={category_id:e.id,category_name:e.category_name,like:e.like,subcategory:[]}),e.sub_category.forEach(s=>{t[e.id].subcategory.push({sub_category_id:s.id,sub_category_name:s.sub_category_name,like:s.like})})}),!r.ok)throw Error("Failed to fetch data");return{list:Object.values(t)}}let p=()=>{let{userDetails:e}=(0,t.a)(),[s,r]=(0,c.useState)({list:[]});return(0,c.useEffect)(()=>{(async()=>{if(e&&e.user_id)try{let s=await f(e.user_id);r(s)}catch(e){}finally{}})()},[e]),a.jsx("div",{className:"user-dashboard-data",children:a.jsx("div",{className:"user-inrest",children:(0,a.jsxs)("div",{className:"deals-inner interests-inner p-0",children:[a.jsx("h1",{className:"text-center mr-0 mb-4",children:"My Interests"}),a.jsx(u,{list:s.list,fullwidth:!0})]})})})}},44269:(e,s,r)=>{"use strict";r.d(s,{Fh:()=>n,Gw:()=>l,Nh:()=>c,qC:()=>i,rS:()=>o}),r(48431);var a=r(29647);let t=e=>{let s=new FormData;return Object.keys(e).forEach(r=>s.append(r,e[r])),s},i=async({data:e,endpoint:s})=>{try{let r=await fetch(`${a._n}/api/${s}`,{method:"POST",body:t(e)}),i=await r.json();if(i.success)return i.data;if(!i.success)return i.message;if(i.error)throw i.error}catch(e){return e}},o=async({data:e,endpoint:s})=>{try{let r=await fetch(`${a._n}/api/${s}`,{method:"POST",body:t(e)}),i=await r.json();if(i.success)return i.data[0];if(!i.success)return i.message;if(i.error)throw i.error}catch(e){return e}},l=async({data:e,endpoint:s,authToken:r})=>{try{let i=await fetch(`${a._n}/api/${s}`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t(e)}),o=await i.json();if(o.success)return o.data[0];if(!o.success)throw o.message;if(o.error)throw o.error}catch(e){return e}},n=async({data:e,endpoint:s,authToken:r})=>{try{let i=await fetch(`${a._n}/api/auth/${s}`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t(e)}),o=await i.json();if(o.success)return o;if(!o.success)throw o.message;if(o.error)throw o.error}catch(e){return e}},c=async({data:e,endpoint:s,authToken:r})=>{try{let t=await fetch(`${a._n}/api/auth/${s}`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify(e)}),i=await t.json();if(i.success)return i;if(!i.success)throw i.message;if(i.error)throw i.error}catch(e){return e}}},15458:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(45347).createProxy)(String.raw`/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/(user)/layout.js#default`)},92645:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(45347).createProxy)(String.raw`/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/(user)/my/interests/page.js#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[9379,1206,6433],()=>r(69358));module.exports=a})();