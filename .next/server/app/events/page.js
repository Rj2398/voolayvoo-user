(()=>{var e={};e.id=38,e.ids=[38],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},35009:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),a(61816),a(73198),a(78993);var r=a(30170),s=a(45002),n=a(83876),i=a.n(n),l=a(66299),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let c=["",{children:["events",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,61816)),"/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/events/page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,73198)),"/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(a.bind(a,78993)),"/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/events/page.js"],u="/events/page",p={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/events/page",pathname:"/events",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},780:(e,t,a)=>{Promise.resolve().then(a.bind(a,37804))},37804:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var r=a(97247),s=a(28964),n=a(79906),i=a(44597),l=a(60006),o=a(89761),c=a(22523),d=a(29647),u=a(87150),p=a(78430),m=a(68534),h=a(35422);let g=({categoryList:e,eventList:t})=>{let[a,g]=(0,s.useState)(!1),[x,v]=(0,s.useState)([]),[f,y]=(0,s.useState)(1),[j,b]=(0,s.useState)({category_id:"All"}),[_,w]=(0,s.useState)({isCategoryApply:!1,isSearchApply:!1,isDateRangeApply:!1,isLoacationApply:!1,isMilesAppy:!1,isPaginationApply:!1}),[N,k]=(0,s.useState)([]),[S,A]=(0,s.useState)([]),[C,M]=(0,s.useState)(""),[P,D]=(0,s.useState)([]),[F,q]=(0,s.useState)({from:0,to:100}),E=(0,s.useRef)(null);(0,s.useEffect)(()=>{(async()=>{try{let a=await (0,o.vW)();if(e&&t&&a){for(let e in t){let r={latitude:t[e].latitude,longitude:t[e].longitude};t[e].event_away_distance=(0,o.hs)(a,r)}let r=(0,o.Wu)(t,e);v(r),r.length>9?w(e=>({...e,isPaginationApply:!0})):k(r)}}catch(e){console.error("Error getting current location:",e)}})()},[e,t]),(0,s.useEffect)(()=>{let a=(0,o.Wu)(t,e);if(_.isCategoryApply?v(a=(0,o.Wu)(a,[{category_id:Number(j.category_id)}])):_.isCategoryApply||v(a=(0,o.Wu)(a,e)),_.isSearchApply){let e=a.filter(e=>e?.events_name.toLowerCase()?.includes(C.toLowerCase()));v(e),a=e}else _.isSearchApply||(a=(0,o.Wu)(a,e));if(_.isDateRangeApply){let e=new l.NT(S[0]),t=new l.NT(S[1]);(0,o.rF)(e.format(),t.format())&&v(a=(0,o.j7)(e.format(),t.format(),a))}else _.isDateRangeApply||(a=(0,o.Wu)(a,e));if(P.length>0){let e=a.filter(e=>(e?.location?.split(", ")||[]).some(e=>P.some(t=>e.includes(t))));v(e),a=e}else P.length;_.isMilesAppy?v(a=(0,o.r8)(a,F.from,F.to)):_.isMilesAppy||(a=(0,o.Wu)(a,e)),a.length>9&&_.isPaginationApply&&(v(a),a=a.filter((e,t)=>t<9)),y(1),k(a)},[_,P]);let Z=e=>{let t=e.category_id.toString()===j.category_id;t?t&&(w(e=>({...e,isCategoryApply:!1})),b({category_id:"All"}),E.current&&E.current.scrollIntoView({behavior:"smooth",block:"start"})):(w(e=>({...e,isCategoryApply:!0})),b({category_id:e.category_id.toString()}))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"inner-banner",style:{backgroundImage:"url(/images/about-bnr.png)",backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:[r.jsx("h1",{children:" Explore Events "}),r.jsx("p",{children:"Find Your A-ha!"})]}),(0,r.jsxs)("div",{className:"container",children:[r.jsx("div",{className:"row justify-content-center p-3",children:r.jsx("div",{className:"col-lg-6",children:(0,r.jsxs)("form",{className:"d-flex new-srchbox mb-3",onSubmit:e=>{e.preventDefault(),C?w(e=>({...e,isSearchApply:!0})):w(e=>({...e,isSearchApply:!1})),E.current&&E.current.scrollIntoView({behavior:"smooth",block:"start"})},children:[r.jsx("input",{className:"new-srch",type:"search",value:C,onChange:e=>{e.target.value?M(e.target.value):(M(e.target.value),w(e=>({...e,isSearchApply:!1})))},placeholder:"Search for Events","aria-label":"Search"}),r.jsx("button",{className:"srch-btn",type:"submit",children:r.jsx(i.default,{width:15,height:16,src:"/images/search.png",alt:""})})]})})}),(0,r.jsxs)("div",{className:"row",children:[r.jsx("div",{className:"col-lg-3 col-md-5",children:(0,r.jsxs)("div",{className:"event-cat",children:[r.jsx("h5",{children:"Event Categories"}),r.jsx("ul",{children:e?.map(e=>r.jsx("li",{children:r.jsxs("a",{style:{cursor:"pointer",color:j.category_id===`${e.category_id}`?"#F10027":"black"},onClick:()=>Z(e),id:e.category_id,children:[e.category_name," ",r.jsxs("span",{children:["(",e.count,")"]})," "]})},e.category_id))})]})}),r.jsx("div",{className:"col-lg-9 col-md-7",children:(0,r.jsxs)("div",{className:"row",ref:E,children:[r.jsx("div",{className:"col-lg-12 mb-3",children:(0,r.jsxs)("div",{className:"show-cal-loc-range",children:[r.jsx("div",{className:"calendar",children:r.jsx("div",{className:"broker-date",children:r.jsx(m.Z,{date:S,onChange:e=>{let t=new l.NT(e[0]),a=new l.NT(e[1]);A(e),(0,o.rF)(t.format(),a.format())?w(e=>({...e,isDateRangeApply:!0})):w(e=>({...e,isDateRangeApply:!1})),E.current&&E.current.scrollIntoView({behavior:"smooth",block:"start"})}})})}),r.jsx(h.Z,{locationFilter:P,setLocationFilter:D}),(0,r.jsxs)("div",{className:"dropdown mile-rad-range date-range",children:[(0,r.jsxs)("a",{className:"btn btn-date-range text-left",type:"button",id:"date-range-drop","data-bs-toggle":"dropdown","aria-expanded":"false",children:["Select your Mile Radius"," "]}),r.jsx(p.Z,{initialValueFrom:0,initialValueTo:100,handleSliderValues:e=>{q({from:e.fromValue,to:e.toValue}),0===e.fromValue&&100===e.toValue?w(e=>({...e,isMilesAppy:!1})):w(e=>({...e,isMilesAppy:!0}))}})]})]})}),Array.isArray(N)&&N.length>0&&N.map((e,t)=>(console.log(e,"datassssssssss"),r.jsx("div",{className:"col-lg-4",children:(0,r.jsxs)("div",{className:"event-brand-box",children:[(0,r.jsxs)("div",{className:"brand-logo",children:[r.jsx(i.default,{width:285,height:223,style:{objectFit:"cover"},src:e?.eventimage?.image_name?`${d._n}/${e?.eventimage?.image_name}`:"/images/near-event2.png",alt:"",onError:e=>{console.error("Image failed to load:",e)}}),(0,r.jsxs)("div",{className:"event-price-free",children:[" ",0===Number(e.events_price)?"Free":"$"+Number(e.events_price)," "]})]}),(0,r.jsxs)("div",{class:"event-pad",children:[(0,r.jsxs)("h6",{children:[" ",(0,o.hk)(e.events_name,20)]}),(0,r.jsxs)("p",{style:{},children:[" ",(0,o.hk)(e.events_description,50)]}),(0,r.jsxs)("div",{class:"point-icon",children:[(0,r.jsxs)("span",{children:[" ",r.jsx(i.default,{width:20,height:20,src:"/images/location-dot.png",alt:""})," ",e.event_away_distance," miles away"," "]}),(0,r.jsxs)("span",{children:[r.jsx(i.default,{width:20,height:20,src:"/images/calendar.png",alt:""})," ",c.ou.fromFormat(e.events_date,"yyyy-MM-dd").toFormat("MMMM dd, yyyy")," "]}),(0,r.jsxs)("span",{children:[" ",r.jsx(i.default,{width:20,height:20,src:"/images/watch.png",alt:""})," ",(0,o.YZ)(e.events_start_time)," to"," ",(0,o.YZ)(e.events_end_time)," "]})]}),r.jsx(n.default,{className:"btn btn-viewmore-border btn-align",href:`/events/${e.checked_id}?promoter_id=${e.promoter_id}`,role:"button",children:"View More"})]})]})},t))),Array.isArray(N)&&0===N.length&&r.jsx("div",{className:"row",children:r.jsx("p",{className:"noDataText",children:"No Events "})}),r.jsx(u.Z,{dataArray:x,pageNo:f,clickPageNumber:e=>{let t=[];for(let e=0;e<x.length;e+=9)t.push(x.slice(e,e+9));E.current&&E.current.scrollIntoView({behavior:"smooth",block:"start"}),y(e),k(t[e-1])},pageLimit:9})]})})]})]})]})};var x=a(87253),v=a(37073),f=a(34178),y=a(66928);async function j(e){let t=await fetch(`${d._n}/api/user_category_list`,{method:"POST",headers:{"Content-Type":"application/json"}}),a=new FormData;a.append("user_id",e);let r=await fetch(`${d._n}/api/user_event_list`,{method:"POST",body:a}),s=await t.json(),n=await r.json();if(!t.ok||!r.ok)throw Error("Failed to fetch data");return{categoryList:(0,o.Bp)(s.data,n.data),eventList:(0,o.Wu)(n.data,s.data)}}let b=()=>{let{userDetails:e}=(0,x.a)(),[t,a]=(0,s.useState)({categoryList:[],eventList:[]}),[n,i]=(0,s.useState)(!0),[l,o]=(0,s.useState)(null),[c,d]=(0,y.Z)("loginUser",null),u=(0,f.useRouter)();return((0,s.useLayoutEffect)(()=>{(async()=>{if(!c){u.push("auth-users"),i(!1);return}if(!e||!e.user_id){i(!1);return}try{let t=await j(e.user_id);a(t)}catch(e){o(e)}finally{i(!1)}})()},[e,u]),n)?r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:r.jsx(v.Z,{loading:n})}):l?(0,r.jsxs)("div",{children:["Error: ",l]}):r.jsx(g,{categoryList:t?.categoryList,eventList:t?.eventList})}},89007:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(97247),s=a(28964),n=a(20483),i=a(51036),l=a(29647);let o=({select:e=[],setSelect:t})=>{let{placePredictions:a,getPlacePredictions:o,isPlacePredictionsLoading:c}=(0,i.Z)({apiKey:l.Uu}),[d,u]=(0,s.useState)(""),p=a=>{e.includes(a)?t(e.filter(e=>e!==a)):t([...e,a])},m=()=>{o({input:""}),u(""),t([])};return(0,r.jsxs)("div",{style:{position:"relative"},children:[r.jsx("input",{style:{color:"black"},type:"text",placeholder:"Select Location",value:d,onChange:e=>{o({input:e.target.value}),u(e.target.value)}}),Array.isArray(e)&&e.length>0&&(0,r.jsxs)("a",{onClick:()=>m(),className:"clear-btn",role:"button",children:[" ","Clear"," "]}),!c&&a.length>0&&r.jsx("div",{style:{display:"flex",maxHeight:200,overflowY:"scroll",flexDirection:"column",paddingTop:8},children:a.map(t=>(0,r.jsxs)("div",{style:{margin:4},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[t.structured_formatting.main_text,r.jsx("span",{children:r.jsx("input",{type:"checkbox",id:t.structured_formatting.main_text,name:t.structured_formatting.main_text,value:t.structured_formatting.main_text,checked:e.includes(t.structured_formatting.main_text),onClick:e=>p(e.currentTarget.value)})})]}),r.jsx(n.Z,{})]},t.place_id))})]})}},68534:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(97247),s=a(28964),n=a(60006);function i({date:e,onChange:t}){let[a,i]=(0,s.useState)(e||[]);return r.jsx(n.ZP,{range:!0,value:a,numberOfMonths:2,dateSeparator:" to ",placeholder:"Start & End Date",onChange:e=>{i(e)},containerStyle:{width:"100%"},minDate:new Date,plugins:[r.jsx(l,{position:"bottom",onApply:e=>{"close"===e?(i([]),t([])):t(a)}},"customToolbar")]})}function l({position:e,datePickerProps:t,calendarProps:a,onApply:s,DatePicker:n}){let i=t||a;return(0,r.jsxs)("div",{className:"drp-bottom-box",children:[(0,r.jsxs)("span",{className:"drp-selected",children:[i?.value[0]?.format()," ",i?.value[1]?.format()&&` to ${i?.value[1]?.format()}`]}),r.jsx("button",{className:"cancelBtn btn btn-sm btn-default",type:"button",onClick:()=>{s("close"),n.closeCalendar()},children:"cancel"}),r.jsx("div",{className:"applyBtn-date applyBtn btn btn-sm btn-primary",onClick:()=>{s(),n.closeCalendar()},children:"Apply"})]})}},87150:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(97247),s=a(28964);let n=({dataArray:e=[],clickPageNumber:t,pageNo:a,pageLimit:n=9})=>{let i=Math.ceil(e?.length/n),[l,o]=(0,s.useState)(1);(0,s.useEffect)(()=>{o(a)},[a]);let c=e=>{t(e),o(e)};return r.jsx("div",{children:i>1&&r.jsx("div",{className:"col-lg-12 text-center",children:r.jsx("nav",{className:"pagingation-style",children:(0,r.jsxs)("ul",{className:"pagination",children:[r.jsx("li",{className:"page-item",children:r.jsx("a",{className:"page-link",onClick:()=>1!==l&&c(l-1),style:{cursor:"pointer"},children:"Prev"})}),(()=>{let e=[];for(let t=1;t<=i;t++)e.push(r.jsx("li",{className:"page-item",children:r.jsx("a",{className:"page-link",onClick:()=>c(t),style:{cursor:"pointer",color:l===t?"#FFF":"inherit",backgroundColor:l===t?"#F10027":"inherit"},children:t})},t));return e})(),r.jsx("li",{className:"page-item",children:r.jsx("a",{className:"page-link",onClick:()=>l!==i&&c(l+1),style:{cursor:"pointer"},children:"Next"})})]})})})})}},35422:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var r=a(97247),s=a(28964),n=a.n(s),i=a(89007);let l=n().memo(function({locationFilter:e=[],setLocationFilter:t}){let[a,n]=(0,s.useState)(!1);return(0,r.jsxs)("div",{className:"location-drop",children:[(0,r.jsxs)("a",{className:"btn btn-location text-left",href:"#",role:"button",id:"location-drop-id","data-bs-toggle":"dropdown","aria-expanded":"false",children:[" ","Location"," "]}),r.jsx("ul",{className:"dropdown-menu location-drop-list w-auto","aria-labelledby":"location-drop-id",children:r.jsx("form",{children:r.jsx(i.Z,{select:e,setSelect:e=>{t(e)}})})})]})})},78430:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(97247),s=a(28964);let n=({initialValueFrom:e,initialValueTo:t,handleSliderValues:a})=>{let[n,i]=(0,s.useState)(e),[l,o]=(0,s.useState)(t);(0,s.useEffect)(()=>{a({fromValue:n,toValue:l})},[n,l]);let c=e=>{let t=parseInt(e.target.value,10);"fromSlider"===e.target.id?t<l&&i(t):"toSlider"===e.target.id&&t>n&&o(t)},d=e=>{let t=parseInt(e.target.value,10);"fromInput"===e.target.id?i(t):"toInput"===e.target.id&&o(t)};return r.jsx("ul",{className:"dropdown-menu w-100 volovo-range","aria-labelledby":"date-range-drop",children:(0,r.jsxs)("div",{className:"miles-inner",children:[(0,r.jsxs)("div",{className:"sliders_control",children:[r.jsx("input",{id:"fromSlider",type:"range",value:n,min:"0",max:"100",onChange:c}),r.jsx("input",{id:"toSlider",type:"range",value:l,min:"0",max:"100",onChange:c})]}),(0,r.jsxs)("div",{className:"form_control",children:[r.jsx("div",{className:"form_control_container",children:r.jsx("input",{className:"form_control_container__time__input",type:"number",id:"fromInput",value:n,min:"0",max:"100",onChange:d})}),r.jsx("div",{className:"form_control_container",children:r.jsx("input",{className:"form_control_container__time__input num-last",type:"number",id:"toInput",value:l,min:"0",max:"100",onChange:d})})]})]})})}},37073:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(97247),s=a(18319),n=a.n(s);a(28964);var i=a(30562),l=a.n(i);let o=({loading:e})=>(0,r.jsxs)("div",{className:"jsx-37cb8f3f1de06620 loader",children:[r.jsx(l(),{color:"#3498db",size:100,loading:e}),r.jsx("p",{className:"jsx-37cb8f3f1de06620",children:"Loading..."}),r.jsx(n(),{id:"37cb8f3f1de06620",children:".loader.jsx-37cb8f3f1de06620{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;height:100vh;font-size:1.5rem}"})]})},89761:(e,t,a)=>{"use strict";a.d(t,{Bp:()=>r,W$:()=>d,Wu:()=>s,YZ:()=>n,hk:()=>m,hs:()=>l,j7:()=>c,r8:()=>p,rF:()=>u,vW:()=>i});let r=(e=[],t=[])=>{let a=[];for(let r of e){let e=0;for(let a of t)Number(a.category_id)===Number(r.category_id)&&(e+=1);a.push({...r,count:e})}return a.filter(e=>0!==e.count)},s=(e=[],t=[])=>{let a=[];for(let r of e)for(let e of t)Number(e.category_id)===Number(r.category_id)&&a.push(r);return a},n=e=>{let[t,a]=e.split(":").map(Number);if(isNaN(t)||t<0||t>23)return"Invalid time format";let r=t>=12?"PM":"AM",s=t%12||12;return!isNaN(a)&&a>=0&&a<=59?`${String(s).padStart(2,"0")}:${String(a).padStart(2,"0")} ${r}`:`${String(s).padStart(2,"0")}:${String(0).padStart(2,"0")} ${r}`};function i(){return new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(t=>e(t.coords),e=>t(e))})}function l(e,t){let a=o(e.latitude),r=o(t.longitude),s=o(t.latitude-e.latitude),n=o(t.longitude-e.longitude),i=Math.sin(s/2)*Math.sin(s/2)+Math.cos(a)*Math.cos(r)*Math.sin(n/2)*Math.sin(n/2);return+(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*3958.754641).toFixed(2)}function o(e){return Math.PI/180*e}function c(e,t,a){let r=new Date(e),s=new Date(t);if(isNaN(r.getTime())||isNaN(s.getTime()))throw Error("Invalid date format");return a.filter(e=>{let t=new Date(e.events_date);return t>=r&&t<=s})}function d(e,t,a,r){let s=new Date(e),n=new Date(t);if(isNaN(s.getTime())||isNaN(n.getTime()))throw Error("Invalid date format");return a.filter(e=>{let t=new Date(e?.[r]?.events_date);return t>=s&&t<=n})}function u(e,t){return new Date(e.replace(/-/g,"/"))<new Date(t.replace(/-/g,"/"))}function p(e,t,a){return e.filter(e=>{let r=e.event_away_distance;return void 0!==r&&r>=t&&r<=a})}let m=(e,t)=>e?e.length>t?e.substring(0,t)+"...":e:""},61816:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(45347).createProxy)(String.raw`/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/events/page.js#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[9379,8966,2523,2808,1397,6,6433],()=>a(35009));module.exports=r})();