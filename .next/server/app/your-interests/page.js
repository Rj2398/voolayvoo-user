(()=>{var e={};e.id=6553,e.ids=[6553],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},39235:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>y,originalPathname:()=>d,pages:()=>u,routeModule:()=>h,tree:()=>c}),t(13154),t(73198),t(78993);var s=t(30170),a=t(45002),o=t(83876),i=t.n(o),n=t(66299),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(r,l);let c=["",{children:["your-interests",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,13154)),"/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/your-interests/page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,73198)),"/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(t.bind(t,78993)),"/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/app/your-interests/page.js"],d="/your-interests/page",y={require:t,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/your-interests/page",pathname:"/your-interests",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5143:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,34080,23)),Promise.resolve().then(t.bind(t,65778))},65778:(e,r,t)=>{"use strict";t.d(r,{default:()=>d});var s=t(97247),a=t(87253),o=t(44269),i=t(44597),n=t(79906),l=t(34178),c=t(28964),u=t(48431);let d=({list:e=[],fullwidth:r=!1})=>{let[t,i]=(0,c.useState)(""),[d,g]=(0,c.useState)(e);(0,c.useEffect)(()=>{g(e)},[e]),console.log(d,"*****************");let[m,p]=(0,c.useState)([]),{userDetails:_}=(0,a.a)(),f=(0,l.useRouter)();console.log(e,"hello list data comes from");let b=(0,c.useCallback)(r=>{let{value:t}=r.target;i(t),""===t&&g(e)},[e]),x=r=>{r.preventDefault(),t?g(e.filter(e=>e?.category_name.toLowerCase().includes(t.toLowerCase()))):g(e)},j=(0,c.useCallback)(e=>{p(r=>r.map(r=>({...r,subCategoryArray:r?.subCategoryArray.filter(r=>!(r?.sub_category_id===e?.sub_category_id&&r?.sub_category_name===e?.sub_category_name))})))},[]);(0,c.useEffect)(()=>{let r=e.filter(e=>"Yes"===e.like).map(e=>({category_id:e.category_id,subCategoryArray:e.subcategory.filter(e=>"Yes"===e.like).map(e=>({sub_category_id:e.sub_category_id,sub_category_name:e.sub_category_name}))}));p(e=>[...r])},[e]);let v=async e=>{e.preventDefault();let r=m.filter(e=>e.subCategoryArray.length>0).map(e=>({category_id:e.category_id,sub_category_id:e.subCategoryArray.map(e=>e.sub_category_id).join(",")})),t={user_id:_?.user_id,selectionList:r};try{let e=await (0,o.Nh)({data:t,endpoint:"user_interest_create",authToken:_.token});if(e?.success)u.toast.success(e?.message),f.push("/my/profile/");else throw e}catch(e){u.toast.error(`${e}`)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"deals-inner-search",children:[s.jsx("form",{action:"",children:(0,s.jsxs)("label",{htmlFor:"",className:"interests-search",children:[s.jsx("input",{type:"text",placeholder:"Search for Categories",value:t,onKeyDown:e=>{"Enter"===e.key&&x(e)},onChange:b}),s.jsx("button",{onClick:x,children:s.jsx("img",{src:"/images/search.png",alt:"Search"})})]})}),s.jsx("p",{children:"Sharing your interests would help us curate personalized Voopons & Events for you."})]}),s.jsx("div",{className:`deals-inner-heading ${r?"w-100":""}`,children:s.jsx("h1",{children:"My Interests"})}),s.jsx("div",{className:`interests-filters ${r?"w-100":""}`,children:s.jsx("ul",{children:m.length>0?m.map(e=>e?.subCategoryArray?.length>0?e.subCategoryArray.map(e=>s.jsx(y,{subCat:e,removeTab:j},e.sub_category_id)):null):s.jsx("p",{children:"No interests selected yet."})})}),(0,s.jsxs)("div",{className:"interests-list",children:[d.length>0&&d.map(e=>s.jsx(h,{item:e,setSelectionList:p,selectionList:m},"cat"+e?.category_id)),e.filter(e=>"Yes"===e.like&&!d.some(r=>r.category_id===e.category_id)).map(e=>s.jsx(h,{item:e,setSelectionList:p,selectionList:m},"likeCat"+e?.category_id))]}),s.jsx("div",{className:"interest-btn",children:s.jsx(n.default,{href:"#",onClick:v,children:"SUBMIT"})})]})},y=({subCat:e,removeTab:r})=>{let t=(0,c.useCallback)(t=>{t.preventDefault(),r(e)},[r,e]);return(0,s.jsxs)("li",{children:[e.sub_category_name,s.jsx(n.default,{href:"#",onClick:t,children:s.jsx(i.default,{src:"/images/interests/icons_cross.png",alt:"cross",width:15,height:15})})]})},h=({item:e,setSelectionList:r,selectionList:t})=>{console.log(t,"set selection list data"),console.log(e,"item data from category list");let[a,o]=(0,c.useState)(!0),i=(0,c.useCallback)(()=>{o(e=>!e)},[]),n=(0,c.useCallback)(t=>{r(r=>{let s=r.findIndex(r=>r.category_id===e.category_id);if(-1===s)return[...r,{category_id:e.category_id,subCategoryArray:[t]}];if(-1===r[s].subCategoryArray.findIndex(e=>e.sub_category_id===t.sub_category_id))return r.map((e,r)=>r===s?{...e,subCategoryArray:[...e.subCategoryArray,t]}:e);{let e=r[s].subCategoryArray.filter(e=>e.sub_category_id!==t.sub_category_id);return 0===e.length?r.filter((e,r)=>r!==s):r.map((r,t)=>t===s?{...r,subCategoryArray:e}:r)}})},[e,r]);return(0,s.jsxs)("div",{className:"deal-search-filter",children:[s.jsx("div",{onClick:i,children:(0,s.jsxs)("h2",{children:[e.category_name," ",s.jsx("i",{className:`fas fa-chevron-down ${a?"down-side":""}`})]})}),a&&s.jsx("div",{className:"deal-search-filter-list",children:s.jsx("ul",{className:"deal-search-filter-list-scroll",children:e.subcategory.map(e=>s.jsx(g,{subItem:e,handleSelection:n,selectionList:t},e.sub_category_id))})})]})},g=({subItem:e,handleSelection:r,selectionList:t})=>{let[a,o]=(0,c.useState)(!1),i=(0,c.useCallback)(t=>{t.preventDefault(),r(e)},[r,e]);return(0,c.useEffect)(()=>{o(t.some(r=>r.subCategoryArray.some(r=>r.sub_category_id===e.sub_category_id)))},[e,t]),s.jsx("li",{children:(0,s.jsxs)(n.default,{href:"#",onClick:i,children:[e?.sub_category_name,s.jsx("input",{type:"checkbox",checked:a,readOnly:!0})]})})}},44269:(e,r,t)=>{"use strict";t.d(r,{Fh:()=>l,Gw:()=>n,Nh:()=>c,qC:()=>o,rS:()=>i}),t(48431);var s=t(29647);let a=e=>{let r=new FormData;return Object.keys(e).forEach(t=>r.append(t,e[t])),r},o=async({data:e,endpoint:r})=>{try{let t=await fetch(`${s._n}/api/${r}`,{method:"POST",body:a(e)}),o=await t.json();if(o.success)return o.data;if(!o.success)return o.message;if(o.error)throw o.error}catch(e){return e}},i=async({data:e,endpoint:r})=>{try{let t=await fetch(`${s._n}/api/${r}`,{method:"POST",body:a(e)}),o=await t.json();if(o.success)return o.data[0];if(!o.success)return o.message;if(o.error)throw o.error}catch(e){return e}},n=async({data:e,endpoint:r,authToken:t})=>{try{let o=await fetch(`${s._n}/api/${r}`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:a(e)}),i=await o.json();if(i.success)return i.data[0];if(!i.success)throw i.message;if(i.error)throw i.error}catch(e){return e}},l=async({data:e,endpoint:r,authToken:t})=>{try{let o=await fetch(`${s._n}/api/auth/${r}`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:a(e)}),i=await o.json();if(i.success)return i;if(!i.success)throw i.message;if(i.error)throw i.error}catch(e){return e}},c=async({data:e,endpoint:r,authToken:t})=>{try{let a=await fetch(`${s._n}/api/auth/${r}`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)}),o=await a.json();if(o.success)return o;if(!o.success)throw o.message;if(o.error)throw o.error}catch(e){return e}}},92349:(e,r,t)=>{"use strict";t.d(r,{default:()=>a.a});var s=t(65949),a=t.n(s)},65949:(e,r,t)=>{"use strict";let{createProxy:s}=t(45347);e.exports=s("/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/node_modules/next/dist/client/link.js")},13154:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(72051);let a=(0,t(45347).createProxy)(String.raw`/Users/rajanmalakar/Downloads/RajanWorking/webFolder/7-10-24 voolayvoo/voolayvoo-user/src/components/Interests/InterestsList.js#default`);var o=t(7830),i=t(92349);async function n(){let e=await fetch(`${o._n}/api/user_category_sub_category`,{method:"GET"}),r=await e.json(),t={};if(r?.data?.forEach(e=>{t[e.category_id]||(t[e.category_id]={category_id:e.category_id,category_name:e.category_name,subcategory:[]}),t[e.category_id].subcategory.push({sub_category_id:e.sub_category_id,sub_category_name:e.sub_category_name})}),!e.ok)throw Error("Failed to fetch data");return{list:Object.values(t)}}let l=async()=>{let{list:e}=await n();return(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"inner-banner",style:{backgroundImage:'url("/images/interests-bg.jpg")',backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:s.jsx("h1",{children:"Your Interests"})}),s.jsx("section",{className:"terms-cond",children:s.jsx("div",{className:"container",children:s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-lg-12",children:(0,s.jsxs)("div",{className:"deals-inner interests-inner",children:[(0,s.jsxs)("h1",{className:"text-center mr-0 mb-4",children:["Tell us your Interests"," ",s.jsx(i.default,{href:"/my/profile",children:s.jsx("u",{children:"Skip"})})]}),s.jsx(a,{list:e,fullwidth:!1})]})})})})})]})}},7830:(e,r,t)=>{"use strict";t.d(r,{_n:()=>s});let s="https://vooleyvoo.tgastaging.com"}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[9379,8966,6433],()=>t(39235));module.exports=s})();