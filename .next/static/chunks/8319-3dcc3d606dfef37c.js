"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8319],{14692:function(e,t,n){n.d(t,{default:function(){return d},a:function(){return p}});var r=n(57437),a=n(2265),l=n(68575),i=n(1455),o=n(906);let s=(0,i.xC)({reducer:{user:o.ZP}});var c=n(73685);let u=(0,a.createContext)(void 0);function d(e){let{children:t}=e,[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)({user_id:null,name:"",profile_image:""}),[p,m]=(0,c.Z)("loginUser",null);(0,a.useEffect)(()=>{!async function(){var e;(null==p?void 0:p.token)&&(null==p?void 0:null===(e=p.user_details)||void 0===e?void 0:e.user_id)&&(i(!0),d(null==p?void 0:p.user_details))}()},[]);let h=async()=>{await (0,c.L)("loginUser"),i(!1)};return(0,r.jsx)(l.zt,{store:s,children:(0,r.jsx)(u.Provider,{value:{isAuthenticated:n,login:e=>{console.log(e,"comes from dispatch"),i(!0);let t={token:e.token,user_details:{token:e.token,email:e.email||"",user_id:e.user_id||"",...null==e?void 0:e.user_details[0]}};m(t),d(null==t?void 0:t.user_details)},logout:h,userDetails:o},children:t})})}let p=()=>{let e=(0,a.useContext)(u);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},71208:function(e,t,n){var r=n(57437),a=n(2265),l=n(27648),i=n(33145),o=n(30846),s=n(35821),c=n(95106),u=n(43022),d=n(47240),p=n(55692),m=n(85555),h=n(26343),f=n(80956);t.Z=e=>{let{categoryList:t,voopanList:n}=e;console.log(t,"categary list data ");let[v,g]=(0,a.useState)(!1),[x,y]=(0,a.useState)([]),[N,j]=(0,a.useState)(1),[_,b]=(0,a.useState)({category_id:"All"}),[S,w]=(0,a.useState)({isCategoryApply:!1,isSearchApply:!1,isDateRangeApply:!1,isLoacationApply:!1,isMilesAppy:!1,isPaginationApply:!1}),[A,C]=(0,a.useState)([]);console.log(A,"hello render list of voopans");let[k,I]=(0,a.useState)([]),[M,D]=(0,a.useState)(""),[T,Z]=(0,a.useState)([]),[E,P]=(0,a.useState)({from:0,to:100}),F=(0,a.useRef)(null);(0,a.useEffect)(()=>{(async()=>{try{let e=await (0,s.vW)();if(t&&n&&e){for(let t in n){let r={latitude:n[t].latitude,longitude:n[t].longitude};n[t].voopan_away_distance=(0,s.hs)(e,r)}let r=(0,s.Wu)(n,t);y(r),r.length>9?w(e=>({...e,isPaginationApply:!0})):C(r)}}catch(e){console.error("Error getting current location:",e)}})()},[t,n]),(0,a.useEffect)(()=>{let e=(0,s.Wu)(n,t);if(S.isCategoryApply?e=(0,s.Wu)(e,[{category_id:Number(_.category_id)}]):S.isCategoryApply||(e=(0,s.Wu)(e,t)),S.isSearchApply){let t=e.filter(e=>{var t;return null==e?void 0:null===(t=e.voopons_name.toLowerCase())||void 0===t?void 0:t.includes(M.toLowerCase())});y(t),e=t}else S.isSearchApply||(e=(0,s.Wu)(e,t));if(S.isDateRangeApply){let t=new o.NT(k[0]),n=new o.NT(k[1]);(0,s.rF)(t.format(),n.format())&&y(e=(0,h.Gq)(t.format(),n.format(),e))}else S.isDateRangeApply||(e=(0,s.Wu)(e,t));if(T.length>0){let t=e.filter(e=>{var t;return((null==e?void 0:null===(t=e.location)||void 0===t?void 0:t.split(", "))||[]).some(e=>T.some(t=>e.includes(t)))});y(t),e=t}else T.length;S.isMilesAppy?y(e=(0,h.Fh)(e,E.from,E.to)):S.isMilesAppy||(e=(0,s.Wu)(e,t)),e.length>9&&S.isPaginationApply&&(y(e),e=e.filter((e,t)=>t<9)),j(1),C(e)},[S,T]);let V=(e,t)=>{let n=e.split(" ");return n.length>t?n.slice(0,t).join(" ")+"...":e},W={height:"420Px"};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row justify-content-center p-3",children:(0,r.jsx)("div",{className:"col-lg-6",children:(0,r.jsxs)("form",{className:"d-flex new-srchbox mb-3",onSubmit:e=>{e.preventDefault(),M?w(e=>({...e,isSearchApply:!0})):w(e=>({...e,isSearchApply:!1})),F.current&&F.current.scrollIntoView({behavior:"smooth",block:"start"})},children:[(0,r.jsx)("input",{className:"new-srch",type:"search",placeholder:"Search for Voopons","aria-label":"Search",value:M,onChange:e=>{e.target.value?D(e.target.value):(D(e.target.value),w(e=>({...e,isSearchApply:!1})))}}),(0,r.jsx)("button",{className:"srch-btn",type:"submit",children:(0,r.jsx)(i.default,{width:15,height:16,src:"/images/search.png",alt:""})})]})})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-lg-12 col-md-12",children:(0,r.jsxs)("div",{className:"row",ref:F,children:[(0,r.jsx)("div",{className:"col-lg-12 mb-3",children:(0,r.jsxs)("div",{className:"show-cal-loc-range",children:[(0,r.jsx)("div",{className:"calendar",children:(0,r.jsx)("div",{className:"broker-date",children:(0,r.jsx)(f.Z,{date:k,onChange:e=>{let t=new o.NT(e[0]),n=new o.NT(e[1]);I(e),(0,s.rF)(t.format(),n.format())?w(e=>({...e,isDateRangeApply:!0})):w(e=>({...e,isDateRangeApply:!1})),F.current&&F.current.scrollIntoView({behavior:"smooth",block:"start"})}})})}),(0,r.jsxs)("div",{className:"location-drop",children:[(0,r.jsxs)("a",{onClick:()=>g(!v),className:"btn btn-location text-left",role:"button",children:[" ","Location"," "]}),(0,r.jsx)("div",{className:"location-drop-list",style:{display:v?"block":"none"},children:(0,r.jsx)("form",{children:(0,r.jsx)(m.Z,{select:T,setSelect:e=>{Z(e)}})})})]}),(0,r.jsxs)("div",{className:"dropdown mile-rad-range date-range",children:[(0,r.jsxs)("a",{className:"btn btn-date-range text-left",type:"button",id:"date-range-drop","data-bs-toggle":"dropdown","aria-expanded":"false",children:["Select your Mile Radius"," "]}),(0,r.jsx)(p.Z,{initialValueFrom:0,initialValueTo:100,handleSliderValues:e=>{P({from:e.fromValue,to:e.toValue}),0===e.fromValue&&100===e.toValue?w(e=>({...e,isMilesAppy:!1})):w(e=>({...e,isMilesAppy:!0}))}})]})]})}),Array.isArray(A)&&A.length>0&&A.map((e,t)=>{var n,a;return(0,r.jsx)("div",{className:"col-lg-4",children:(0,r.jsxs)("div",{className:"voopan-box",style:W,children:[(0,h.p1)(null==e?void 0:e.voopons_valid_thru)&&(0,r.jsx)("span",{className:"expiring-soon",children:"Expiring soon"}),(0,r.jsx)("div",{className:"voopon-logo",children:(0,r.jsx)(i.default,{width:125,height:125,src:(null==e?void 0:null===(n=e.vooponimage)||void 0===n?void 0:n.image_name)?"".concat(u._n).concat(null==e?void 0:null===(a=e.vooponimage)||void 0===a?void 0:a.image_name):"/images/voopons-logo-1.png",alt:""})}),(0,r.jsx)("div",{className:"voopon-heading",children:V(null==e?void 0:e.voopons_name,2)}),(0,r.jsx)("h5",{children:V(null==e?void 0:e.voopons_description,4)}),(0,r.jsxs)("p",{children:["Valid Thru:"," ",c.ou.fromFormat(null==e?void 0:e.voopons_valid_thru,"yyyy-MM-dd").toFormat("MMMM dd, yyyy")]}),(0,r.jsx)(l.default,{className:"btn btn-viewmore",href:"/voopons/".concat(e.unique_number),role:"button",children:"View More"})]})},e.id)}),Array.isArray(A)&&0===A.length&&(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("p",{className:"noDataText",children:"No Voopons "})}),(0,r.jsx)(d.Z,{dataArray:x,pageNo:N,clickPageNumber:e=>{let t=[];for(let e=0;e<x.length;e+=9)t.push(x.slice(e,e+9));F.current&&F.current.scrollIntoView({behavior:"smooth",block:"start"}),j(e),C(t[e-1])},pageLimit:9})]})})})]})})}},85555:function(e,t,n){var r=n(57437),a=n(2265),l=n(97494),i=n(82377),o=n(43022);t.Z=e=>{let{select:t=[],setSelect:n}=e,{placePredictions:s,getPlacePredictions:c,isPlacePredictionsLoading:u}=(0,i.Z)({apiKey:o.Uu}),[d,p]=(0,a.useState)(""),m=e=>{t.includes(e)?n(t.filter(t=>t!==e)):n([...t,e])},h=()=>{c({input:""}),p(""),n([])};return(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)("input",{style:{color:"black"},type:"text",placeholder:"Select Location",value:d,onChange:e=>{c({input:e.target.value}),p(e.target.value)}}),Array.isArray(t)&&t.length>0&&(0,r.jsxs)("a",{onClick:()=>h(),className:"clear-btn",role:"button",children:[" ","Clear"," "]}),!u&&s.length>0&&(0,r.jsx)("div",{style:{display:"flex",maxHeight:200,overflowY:"scroll",flexDirection:"column",paddingTop:8},children:s.map(e=>(0,r.jsxs)("div",{style:{margin:4},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.structured_formatting.main_text,(0,r.jsx)("span",{children:(0,r.jsx)("input",{type:"checkbox",id:e.structured_formatting.main_text,name:e.structured_formatting.main_text,value:e.structured_formatting.main_text,checked:t.includes(e.structured_formatting.main_text),onClick:e=>m(e.currentTarget.value)})})]}),(0,r.jsx)(l.Z,{})]},e.place_id))})]})}},80956:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(57437),a=n(2265),l=n(30846);function i(e){let{date:t,onChange:n}=e,[i,s]=(0,a.useState)(t||[]);return(0,r.jsx)(l.ZP,{range:!0,value:i,numberOfMonths:2,dateSeparator:" to ",placeholder:"Start & End Date",onChange:e=>{s(e)},containerStyle:{width:"100%"},minDate:new Date,plugins:[(0,r.jsx)(o,{position:"bottom",onApply:e=>{"close"===e?(s([]),n([])):n(i)}},"customToolbar")]})}function o(e){var t,n,a;let{position:l,datePickerProps:i,calendarProps:o,onApply:s,DatePicker:c}=e,u=i||o;return(0,r.jsxs)("div",{className:"drp-bottom-box",children:[(0,r.jsxs)("span",{className:"drp-selected",children:[null==u?void 0:null===(t=u.value[0])||void 0===t?void 0:t.format()," ",(null==u?void 0:null===(n=u.value[1])||void 0===n?void 0:n.format())&&" to ".concat(null==u?void 0:null===(a=u.value[1])||void 0===a?void 0:a.format())]}),(0,r.jsx)("button",{className:"cancelBtn btn btn-sm btn-default",type:"button",onClick:()=>{s("close"),c.closeCalendar()},children:"cancel"}),(0,r.jsx)("div",{className:"applyBtn-date applyBtn btn btn-sm btn-primary",onClick:()=>{s(),c.closeCalendar()},children:"Apply"})]})}},47240:function(e,t,n){var r=n(57437),a=n(2265);t.Z=e=>{let{dataArray:t=[],clickPageNumber:n,pageNo:l,pageLimit:i=9}=e,o=Math.ceil((null==t?void 0:t.length)/i),[s,c]=(0,a.useState)(1);(0,a.useEffect)(()=>{c(l)},[l]);let u=e=>{n(e),c(e)};return(0,r.jsx)("div",{children:o>1&&(0,r.jsx)("div",{className:"col-lg-12 text-center",children:(0,r.jsx)("nav",{className:"pagingation-style",children:(0,r.jsxs)("ul",{className:"pagination",children:[(0,r.jsx)("li",{className:"page-item",children:(0,r.jsx)("a",{className:"page-link",onClick:()=>1!==s&&u(s-1),style:{cursor:"pointer"},children:"Prev"})}),(()=>{let e=[];for(let t=1;t<=o;t++)e.push((0,r.jsx)("li",{className:"page-item",children:(0,r.jsx)("a",{className:"page-link",onClick:()=>u(t),style:{cursor:"pointer",color:s===t?"#FFF":"inherit",backgroundColor:s===t?"#F10027":"inherit"},children:t})},t));return e})(),(0,r.jsx)("li",{className:"page-item",children:(0,r.jsx)("a",{className:"page-link",onClick:()=>s!==o&&u(s+1),style:{cursor:"pointer"},children:"Next"})})]})})})})}},55692:function(e,t,n){var r=n(57437),a=n(2265);t.Z=e=>{let{initialValueFrom:t,initialValueTo:n,handleSliderValues:l}=e,[i,o]=(0,a.useState)(t),[s,c]=(0,a.useState)(n);(0,a.useEffect)(()=>{l({fromValue:i,toValue:s})},[i,s]);let u=e=>{let t=parseInt(e.target.value,10);"fromSlider"===e.target.id?t<s&&o(t):"toSlider"===e.target.id&&t>i&&c(t)},d=e=>{let t=parseInt(e.target.value,10);"fromInput"===e.target.id?o(t):"toInput"===e.target.id&&c(t)};return(0,r.jsx)("ul",{className:"dropdown-menu w-100 volovo-range","aria-labelledby":"date-range-drop",children:(0,r.jsxs)("div",{className:"miles-inner",children:[(0,r.jsxs)("div",{className:"sliders_control",children:[(0,r.jsx)("input",{id:"fromSlider",type:"range",value:i,min:"0",max:"100",onChange:u}),(0,r.jsx)("input",{id:"toSlider",type:"range",value:s,min:"0",max:"100",onChange:u})]}),(0,r.jsxs)("div",{className:"form_control",children:[(0,r.jsx)("div",{className:"form_control_container",children:(0,r.jsx)("input",{className:"form_control_container__time__input",type:"number",id:"fromInput",value:i,min:"0",max:"100",onChange:d})}),(0,r.jsx)("div",{className:"form_control_container",children:(0,r.jsx)("input",{className:"form_control_container__time__input num-last",type:"number",id:"toInput",value:s,min:"0",max:"100",onChange:d})})]})]})})}},43022:function(e,t,n){n.d(t,{Uu:function(){return a},_n:function(){return r},n2:function(){return l}});let r="https://vooleyvoo.tgastaging.com",a="AIzaSyC9NuN_f-wESHh3kihTvpbvdrmKlTQurxw",l="pk_test_51PEqRgAJcW6Btw8tpASD0I5XchUNQRd2QPwSCRlxYvm1GvdtCWEik7s6RANFlolXD58002c3HBDItMkrZHIXgs1T00xvdkulZJ"},73685:function(e,t,n){n.d(t,{L:function(){return a}});var r=n(2265);t.Z=function(e,t){let[n,a]=(0,r.useState)(()=>{let n;return n=null,(n=localStorage.getItem(e))?JSON.parse(n):t});return(0,r.useEffect)(()=>{localStorage.setItem(e,JSON.stringify(n))},[e,n]),[n,a]};let a=e=>{localStorage.removeItem(e)}},906:function(e,t,n){n.d(t,{PR:function(){return o},Q_:function(){return i}});let r=(0,n(1455).oM)({name:"user",initialState:{userInfo:null,userState:!1,categoryId:null},reducers:{setUserInfo:(e,t)=>{e.userInfo=t.payload},setUserState:e=>{e.userState=!e.userState},setCategory:(e,t)=>{e.categoryId=t.payload},clearUser:e=>{e.userInfo=null,e.aiQuestionId=null}}}),{setUserInfo:a,clearUser:l,setUserState:i,setCategory:o}=r.actions;t.ZP=r.reducer},35821:function(e,t,n){n.d(t,{Bp:function(){return r},W$:function(){return u},Wu:function(){return a},YZ:function(){return l},hk:function(){return m},hs:function(){return o},j7:function(){return c},r8:function(){return p},rF:function(){return d},vW:function(){return i}});let r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];for(let r of e){let e=0;for(let n of t)Number(n.category_id)===Number(r.category_id)&&(e+=1);n.push({...r,count:e})}return n.filter(e=>0!==e.count)},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];for(let r of e)for(let e of t)Number(e.category_id)===Number(r.category_id)&&n.push(r);return n},l=e=>{let[t,n]=e.split(":").map(Number);if(isNaN(t)||t<0||t>23)return"Invalid time format";let r=t>=12?"PM":"AM",a=t%12||12;return!isNaN(n)&&n>=0&&n<=59?"".concat(String(a).padStart(2,"0"),":").concat(String(n).padStart(2,"0")," ").concat(r):"".concat(String(a).padStart(2,"0"),":").concat(String(0).padStart(2,"0")," ").concat(r)};function i(){return new Promise<Coordinates>((e,t)=>{navigator.geolocation.getCurrentPosition(t=>e(t.coords),e=>t(e))})}function o(e,t){let n=s(e.latitude),r=s(t.longitude),a=s(t.latitude-e.latitude),l=s(t.longitude-e.longitude),i=Math.sin(a/2)*Math.sin(a/2)+Math.cos(n)*Math.cos(r)*Math.sin(l/2)*Math.sin(l/2);return+(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*3958.754641).toFixed(2)}function s(e){return Math.PI/180*e}function c(e,t,n){let r=new Date(e),a=new Date(t);if(isNaN(r.getTime())||isNaN(a.getTime()))throw Error("Invalid date format");return n.filter(e=>{let t=new Date(e.events_date);return t>=r&&t<=a})}function u(e,t,n,r){let a=new Date(e),l=new Date(t);if(isNaN(a.getTime())||isNaN(l.getTime()))throw Error("Invalid date format");return n.filter(e=>{var t;let n=new Date(null==e?void 0:null===(t=e[r])||void 0===t?void 0:t.events_date);return n>=a&&n<=l})}function d(e,t){return new Date(e.replace(/-/g,"/"))<new Date(t.replace(/-/g,"/"))}function p(e,t,n){return e.filter(e=>{let r=e.event_away_distance;return void 0!==r&&r>=t&&r<=n})}let m=(e,t)=>e?e.length>t?e.substring(0,t)+"...":e:""},26343:function(e,t,n){function r(e){let[t,n,r]=null==e?void 0:e.split("-"),a=new Date(parseInt(t),parseInt(n)-1,parseInt(r)),l=new Date,i=(a.getTime()-l.getTime())/864e5;return!(i<0)&&i<=7}function a(e,t,n){return e.filter(e=>{let r=e.voopan_away_distance;return void 0!==r&&r>=t&&r<=n})}function l(e,t,n){let r=new Date(e),a=new Date(t);if(isNaN(r.getTime())||isNaN(a.getTime()))throw Error("Invalid date format");return n.filter(e=>{let t=new Date(e.voopons_date);return t>=r&&t<=a})}n.d(t,{Fh:function(){return a},Gq:function(){return l},p1:function(){return r}})}}]);