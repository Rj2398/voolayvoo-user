"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3402],{85540:function(e,a,s){var r=s(57437),t=s(2265);a.Z=e=>{let{cardList:a,setOpen:s,userCardDelete:c,isCardPaymentEnabled:n,callPaymentCard:d}=e,[i,l]=(0,t.useState)(""),o=e=>{l(e)};return(0,r.jsxs)(r.Fragment,{children:[(null==a?void 0:a.length)>0&&(0,r.jsx)("div",{className:"business-add-payment-card-inner",style:{marginTop:0},children:a.map((e,a)=>(0,r.jsxs)("div",{className:"business-add-payment-card-box ".concat(n&&i===(null==e?void 0:e.card_id)?"active":""),onClick:()=>o(null==e?void 0:e.card_id),children:[!n&&(0,r.jsx)("button",{onClick:()=>c(null==e?void 0:e.card_id),children:(0,r.jsx)("i",{className:"fas fa-times-circle"})}),(0,r.jsx)("div",{className:"select-card"}),(0,r.jsxs)("div",{className:"business-add-payment-card-details",children:[(0,r.jsx)("p",{children:"Debit"}),(0,r.jsxs)("div",{className:"business-add-payment-card-details-bottom",children:[(0,r.jsxs)("div",{className:"business-add-payment-card-details-input-wrap",children:[(0,r.jsx)("input",{type:"text",className:"input-1",value:"**** **** **** ".concat(null==e?void 0:e.last4),readOnly:!0}),(0,r.jsxs)("span",{children:["VALID ",(0,r.jsx)("br",{})," THRU",(0,r.jsx)("input",{type:"text",className:"input-2",value:"".concat(null==e?void 0:e.exp_month,"/").concat("".concat(null==e?void 0:e.exp_year).slice(-2)),readOnly:!0})]})]}),(0,r.jsxs)("h2",{children:[null==e?void 0:e.cardholdername.toUpperCase()," ",(0,r.jsx)("img",{src:"/images/business-dashboard/payment-method/card-img.svg",alt:""})]})]})]}),(0,r.jsx)("img",{src:a%2==0?"/images/business-dashboard/payment-method/card-bg-1.svg":"/images/business-dashboard/payment-method/card-bg-2.svg",alt:""})]},null==e?void 0:e.card_id))}),!n&&(0,r.jsx)("div",{className:"business-add-payment-card-btm",children:(0,r.jsx)("a",{href:"#",onClick:()=>s(!0),children:"Add Card"})}),n&&(0,r.jsx)("div",{className:"business-add-payment-card-add-btn",children:(0,r.jsxs)("a",{href:"#",onClick:()=>s(!0),children:[(0,r.jsx)("i",{className:"fas fa-plus-circle"})," Add Card"]})}),n&&(0,r.jsx)("div",{className:"business-add-payment-card-btm",children:(0,r.jsx)("a",{href:"#",onClick:e=>{i&&d(a.find(e=>e.card_id===i))},children:"PAY NOW"})})]})}},36172:function(e,a,s){s.d(a,{Z:function(){return x}});var r=s(57437),t=s(48602),c=s(35301),n=s(36853),d=s(48672),i=s(43022),l=s(33145),o=s(2265),m=s(7261),h=e=>{let{setOpen:a,callBack:s}=e,t=(0,n.useStripe)(),c=(0,n.useElements)(),[d,i]=(0,o.useState)(""),h=async e=>{if(e.preventDefault(),!t||!c)return;let r=c.getElement(n.CardNumberElement),i=await t.createToken(r,{name:d});i.error?m.toast.error(i.error.message):(a(!1),s(i.token))};return(0,r.jsx)("div",{className:"modal fade show",style:{display:"block",paddingRight:"0px"},children:(0,r.jsx)("div",{className:"modal-dialog card-width",children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h5",{className:"modal-title modal-title-center add-card-hd",children:"Add Card"}),(0,r.jsx)("button",{onClick:()=>a(!1),type:"button",className:"close collab-btn",children:(0,r.jsx)("span",{"aria-hidden":"true",children:(0,r.jsx)(l.default,{width:28,height:28,src:"/images/cross.svg",alt:""})})})]}),(0,r.jsx)("div",{className:"modal-body",children:(0,r.jsx)("div",{className:"add-to-card",children:(0,r.jsxs)("form",{onSubmit:h,children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Card Holder Name"}),(0,r.jsx)("input",{id:"cardholderName",className:"form-control",placeholder:"Card Holder Name",value:d,onChange:e=>i(e.currentTarget.value)})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Card Number"}),(0,r.jsx)("div",{className:"form-control card-img cardElement",children:(0,r.jsx)(n.CardNumberElement,{})})]}),(0,r.jsxs)("div",{className:"grid-add-card",children:[(0,r.jsxs)("div",{className:"exp-date half-Width",children:[(0,r.jsx)("label",{children:"Expiry Date"}),(0,r.jsx)("div",{className:"form-control cardElement",children:(0,r.jsx)(n.CardExpiryElement,{})})]}),(0,r.jsxs)("div",{className:"exp-pass half-Width",children:[(0,r.jsx)("label",{children:"CVV"}),(0,r.jsx)("div",{className:"form-control cardElement",children:(0,r.jsx)(n.CardCvcElement,{})})]})]}),(0,r.jsx)("button",{className:"btn submit-add-card mt-3 mb-2",type:"submit",children:"Submit"})]})})})]})})})};let u=(0,d.J)(i.n2);var x=e=>{let{open:a,setOpen:s,callBack:d}=e;return(0,r.jsx)(t.Z,{open:a,children:(0,r.jsx)(c.Z,{children:(0,r.jsx)(n.Elements,{stripe:u,children:(0,r.jsx)(h,{setOpen:s,callBack:d})})})})}},50391:function(e,a,s){s.d(a,{Fh:function(){return i},Gw:function(){return d},Nh:function(){return l},qC:function(){return c},rS:function(){return n}}),s(7261);var r=s(43022);let t=e=>{let a=new FormData;return Object.keys(e).forEach(s=>a.append(s,e[s])),a},c=async e=>{let{data:a,endpoint:s}=e;try{let e=await fetch("".concat(r._n,"/api/").concat(s),{method:"POST",body:t(a)}),c=await e.json();if(c.success)return c.data;if(!c.success)return c.message;if(c.error)throw c.error}catch(e){return e}},n=async e=>{let{data:a,endpoint:s}=e;try{let e=await fetch("".concat(r._n,"/api/").concat(s),{method:"POST",body:t(a)}),c=await e.json();if(c.success)return c.data[0];if(!c.success)return c.message;if(c.error)throw c.error}catch(e){return e}},d=async e=>{let{data:a,endpoint:s,authToken:c}=e;try{let e=await fetch("".concat(r._n,"/api/").concat(s),{method:"POST",headers:{Authorization:"Bearer ".concat(c)},body:t(a)}),n=await e.json();if(n.success)return n.data[0];if(!n.success)throw n.message;if(n.error)throw n.error}catch(e){return e}},i=async e=>{let{data:a,endpoint:s,authToken:c}=e;try{let e=await fetch("".concat(r._n,"/api/auth/").concat(s),{method:"POST",headers:{Authorization:"Bearer ".concat(c)},body:t(a)}),n=await e.json();if(n.success)return n;if(!n.success)throw n.message;if(n.error)throw n.error}catch(e){return e}},l=async e=>{let{data:a,endpoint:s,authToken:t}=e;try{let e=await fetch("".concat(r._n,"/api/auth/").concat(s),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(a)}),c=await e.json();if(c.success)return c;if(!c.success)throw c.message;if(c.error)throw c.error}catch(e){return e}}}}]);