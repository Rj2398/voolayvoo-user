(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6533],{67838:function(e,t,n){Promise.resolve().then(n.bind(n,41688))},25523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return o}});let o=n(47043)._(n(2265)).default.createContext(null)},41688:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var o=n(57437),l=n(27648),a=n(2265),r=n(43022);let i={width:"100%",height:"713px"};var s=function(e){let{markerList:t}=e,[n,l]=(0,a.useState)(!1),s=(0,a.useRef)(null),u=(0,a.useRef)([]),[c,d]=(0,a.useState)(null),[m,f]=(0,a.useState)({latitude:null,longitude:null}),[p,g]=(0,a.useState)(null);(0,a.useEffect)(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{f({latitude:e.coords.latitude,longitude:e.coords.longitude})},e=>{g(e.message)}):g("Geolocation is not supported by this browser.")},[]);let v={lat:28.535517,lng:77.391029},h=e=>{var t;return console.log(e,"hello world"),'\n      <div class="map-inner-tooltip">\n        <span style="display:block;text-align:right; margin-bottom:8px;">\n          <img src="./images/map/loc-icon.svg" alt="" style="width: 16px; height: 20px;" />\n          '.concat(null==e?void 0:e.distance,' miles away\n        </span>\n        <div class="map-inner-tooltip-in">\n          <img src="').concat((null==e?void 0:e.profile_image)?r._n+"/"+(null==e?void 0:null===(t=e.eventimage)||void 0===t?void 0:t.image_name):"./images/map/brand-logo.svg",'" alt="" />\n          <h1>').concat(null==e?void 0:e.events_name,'rajan</h1>\n          <a href="/businesses/').concat(null==e?void 0:e.id,'">View Details <ArrowForwardIosIcon/></a>\n        </div>\n      </div>\n    ')},x=e=>{if(document.querySelector('script[src*="maps.googleapis.com"]'))e();else{let t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key=".concat(r.Uu,"&libraries=places"),t.async=!0,t.defer=!0,t.onload=e,document.head.appendChild(t)}},_=()=>{u.current.forEach(e=>e.setMap(null)),u.current=[]},y=e=>{if(!t||0===t.length){console.warn("No markers to display.");return}t.forEach((t,n)=>{if(!t.latitude||!t.longitude){console.warn("Invalid coordinates for marker at index ".concat(n));return}let o={lat:Number(null==t?void 0:t.latitude),lng:Number(null==t?void 0:t.longitude)},l=new window.google.maps.Marker({map:e,position:o,title:t.title,animation:window.google.maps.Animation.DROP}),a=new window.google.maps.InfoWindow({content:h(t),minWidth:200});l.addListener("click",()=>{a.open(e,l)}),u.current.push(l)})};return(0,a.useEffect)(()=>{x(()=>{if(n||!window.google||!window.google.maps)return;let e={center:v,zoom:10,mapId:"MY_NEXTJS_MAPID",fullscreenControl:!1,mapTypeControl:!1,zoomControlOptions:{position:window.google.maps.ControlPosition.TOP_RIGHT}};d(new window.google.maps.Map(s.current,e)),l(!0)})},[v,n]),(0,a.useEffect)(()=>{c&&(_(),y(c))},[t,c]),(0,o.jsx)("div",{style:i,ref:s})},u=n(21057),c=n(55692),d=function(e){let{setAppliedFilter:t}=e,[n,r]=(0,a.useState)([]),[i,s]=(0,a.useState)({from:0,to:100});return(0,a.useEffect)(()=>{t(e=>({...e,locationFilter:n}))},[n]),(0,o.jsxs)("div",{className:"map-inner-btn",children:[(0,o.jsx)("div",{className:"home-btn",children:(0,o.jsxs)(l.default,{href:"/",children:[(0,o.jsx)("i",{className:"far fa-arrow-left"})," Home"]})}),(0,o.jsx)(u.Z,{locationFilter:n,setLocationFilter:r}),(0,o.jsxs)("div",{className:"dropdown mile-rad-range date-range",children:[(0,o.jsx)("a",{className:"btn btn-date-range text-left",type:"button",id:"date-range-drop","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Select your Mile Radius"}),(0,o.jsx)(c.Z,{initialValueFrom:0,initialValueTo:100,handleSliderValues:e=>{s({from:e.fromValue,to:e.toValue}),t(t=>({...t,isMilesAppy:!(0===e.fromValue&&100===e.toValue),milesRange:{from:e.fromValue,to:e.toValue}}))}})]})]})},m=n(14692);async function f(e){let t=new FormData;return t.append("user_id",e),(await fetch("".concat(r._n,"/api/user_event_list"),{method:"POST",body:t})).json()}var p=()=>{let{userDetails:e}=(0,m.a)(),[t,n]=(0,a.useState)([]),[l,r]=(0,a.useState)([]);console.log(l,"filterd ecent lists dataatat"),console.log(l,"hello event list data comes form ");let[i,u]=(0,a.useState)({locationFilter:[],milesRange:{from:0,to:100},isMilesAppy:!1});(0,a.useEffect)(()=>{(null==e?void 0:e.user_id)&&(async()=>{let t=await f(e.user_id);n(t.data),r(t.data)})()},[e]);let c=()=>{let e=t;console.log(e,"hello filtered data comes"),i.locationFilter.length>0&&(e=e.filter(e=>i.locationFilter.some(t=>e.location.includes(t)))),i.isMilesAppy&&(e=e.filter(e=>e.distance>=i.milesRange.from&&e.distance<=i.milesRange.to)),console.log(e,"hello fappluyehjakshdjkh"),r(e)};return(0,a.useEffect)(()=>{c()},[i,t]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d,{setAppliedFilter:u}),(0,o.jsx)(s,{markerList:l})]})}},14692:function(e,t,n){"use strict";n.d(t,{default:function(){return d},a:function(){return m}});var o=n(57437),l=n(2265),a=n(68575),r=n(1455),i=n(906);let s=(0,r.xC)({reducer:{user:i.ZP}});var u=n(73685);let c=(0,l.createContext)(void 0);function d(e){let{children:t}=e,[n,r]=(0,l.useState)(!1),[i,d]=(0,l.useState)({user_id:null,name:"",profile_image:""}),[m,f]=(0,u.Z)("loginUser",null);(0,l.useEffect)(()=>{!async function(){var e;(null==m?void 0:m.token)&&(null==m?void 0:null===(e=m.user_details)||void 0===e?void 0:e.user_id)&&(r(!0),d(null==m?void 0:m.user_details))}()},[]);let p=async()=>{await (0,u.L)("loginUser"),r(!1)};return(0,o.jsx)(a.zt,{store:s,children:(0,o.jsx)(c.Provider,{value:{isAuthenticated:n,login:e=>{console.log(e,"comes from dispatch"),r(!0);let t={token:e.token,user_details:{token:e.token,email:e.email||"",user_id:e.user_id||"",...null==e?void 0:e.user_details[0]}};f(t),d(null==t?void 0:t.user_details)},logout:p,userDetails:i},children:t})})}let m=()=>{let e=(0,l.useContext)(c);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},85555:function(e,t,n){"use strict";var o=n(57437),l=n(2265),a=n(97494),r=n(82377),i=n(43022);t.Z=e=>{let{select:t=[],setSelect:n}=e,{placePredictions:s,getPlacePredictions:u,isPlacePredictionsLoading:c}=(0,r.Z)({apiKey:i.Uu}),[d,m]=(0,l.useState)(""),f=e=>{t.includes(e)?n(t.filter(t=>t!==e)):n([...t,e])},p=()=>{u({input:""}),m(""),n([])};return(0,o.jsxs)("div",{style:{position:"relative"},children:[(0,o.jsx)("input",{style:{color:"black"},type:"text",placeholder:"Select Location",value:d,onChange:e=>{u({input:e.target.value}),m(e.target.value)}}),Array.isArray(t)&&t.length>0&&(0,o.jsxs)("a",{onClick:()=>p(),className:"clear-btn",role:"button",children:[" ","Clear"," "]}),!c&&s.length>0&&(0,o.jsx)("div",{style:{display:"flex",maxHeight:200,overflowY:"scroll",flexDirection:"column",paddingTop:8},children:s.map(e=>(0,o.jsxs)("div",{style:{margin:4},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.structured_formatting.main_text,(0,o.jsx)("span",{children:(0,o.jsx)("input",{type:"checkbox",id:e.structured_formatting.main_text,name:e.structured_formatting.main_text,value:e.structured_formatting.main_text,checked:t.includes(e.structured_formatting.main_text),onClick:e=>f(e.currentTarget.value)})})]}),(0,o.jsx)(a.Z,{})]},e.place_id))})]})}},21057:function(e,t,n){"use strict";var o=n(57437),l=n(2265),a=n(85555);t.Z=l.memo(function(e){let{locationFilter:t=[],setLocationFilter:n}=e,[r,i]=(0,l.useState)(!1);return(0,o.jsxs)("div",{className:"location-drop",children:[(0,o.jsxs)("a",{className:"btn btn-location text-left",href:"#",role:"button",id:"location-drop-id","data-bs-toggle":"dropdown","aria-expanded":"false",children:[" ","Location"," "]}),(0,o.jsx)("ul",{className:"dropdown-menu location-drop-list w-auto","aria-labelledby":"location-drop-id",children:(0,o.jsx)("form",{children:(0,o.jsx)(a.Z,{select:t,setSelect:e=>{n(e)}})})})]})})},55692:function(e,t,n){"use strict";var o=n(57437),l=n(2265);t.Z=e=>{let{initialValueFrom:t,initialValueTo:n,handleSliderValues:a}=e,[r,i]=(0,l.useState)(t),[s,u]=(0,l.useState)(n);(0,l.useEffect)(()=>{a({fromValue:r,toValue:s})},[r,s]);let c=e=>{let t=parseInt(e.target.value,10);"fromSlider"===e.target.id?t<s&&i(t):"toSlider"===e.target.id&&t>r&&u(t)},d=e=>{let t=parseInt(e.target.value,10);"fromInput"===e.target.id?i(t):"toInput"===e.target.id&&u(t)};return(0,o.jsx)("ul",{className:"dropdown-menu w-100 volovo-range","aria-labelledby":"date-range-drop",children:(0,o.jsxs)("div",{className:"miles-inner",children:[(0,o.jsxs)("div",{className:"sliders_control",children:[(0,o.jsx)("input",{id:"fromSlider",type:"range",value:r,min:"0",max:"100",onChange:c}),(0,o.jsx)("input",{id:"toSlider",type:"range",value:s,min:"0",max:"100",onChange:c})]}),(0,o.jsxs)("div",{className:"form_control",children:[(0,o.jsx)("div",{className:"form_control_container",children:(0,o.jsx)("input",{className:"form_control_container__time__input",type:"number",id:"fromInput",value:r,min:"0",max:"100",onChange:d})}),(0,o.jsx)("div",{className:"form_control_container",children:(0,o.jsx)("input",{className:"form_control_container__time__input num-last",type:"number",id:"toInput",value:s,min:"0",max:"100",onChange:d})})]})]})})}},43022:function(e,t,n){"use strict";n.d(t,{Uu:function(){return l},_n:function(){return o},n2:function(){return a}});let o="https://vooleyvoo.tgastaging.com",l="AIzaSyC9NuN_f-wESHh3kihTvpbvdrmKlTQurxw",a="pk_test_51PEqRgAJcW6Btw8tpASD0I5XchUNQRd2QPwSCRlxYvm1GvdtCWEik7s6RANFlolXD58002c3HBDItMkrZHIXgs1T00xvdkulZJ"},73685:function(e,t,n){"use strict";n.d(t,{L:function(){return l}});var o=n(2265);t.Z=function(e,t){let[n,l]=(0,o.useState)(()=>{let n;return n=null,(n=localStorage.getItem(e))?JSON.parse(n):t});return(0,o.useEffect)(()=>{localStorage.setItem(e,JSON.stringify(n))},[e,n]),[n,l]};let l=e=>{localStorage.removeItem(e)}},906:function(e,t,n){"use strict";n.d(t,{PR:function(){return i},Q_:function(){return r}});let o=(0,n(1455).oM)({name:"user",initialState:{userInfo:null,userState:!1,categoryId:null},reducers:{setUserInfo:(e,t)=>{e.userInfo=t.payload},setUserState:e=>{e.userState=!e.userState},setCategory:(e,t)=>{e.categoryId=t.payload},clearUser:e=>{e.userInfo=null,e.aiQuestionId=null}}}),{setUserInfo:l,clearUser:a,setUserState:r,setCategory:i}=o.actions;t.ZP=o.reducer},61994:function(e,t,n){"use strict";t.Z=function(){for(var e,t,n=0,o="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=function e(t){var n,o,l="";if("string"==typeof t||"number"==typeof t)l+=t;else if("object"==typeof t){if(Array.isArray(t)){var a=t.length;for(n=0;n<a;n++)t[n]&&(o=e(t[n]))&&(l&&(l+=" "),l+=o)}else for(o in t)t[o]&&(l&&(l+=" "),l+=o)}return l}(e))&&(o&&(o+=" "),o+=t);return o}}},function(e){e.O(0,[2519,2972,8629,428,2971,2117,1744],function(){return e(e.s=67838)}),_N_E=e.O()}]);