(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38],{45016:function(e,t,n){Promise.resolve().then(n.bind(n,12320))},14692:function(e,t,n){"use strict";n.d(t,{default:function(){return d},a:function(){return f}});var r=n(57437),i=n(2265),o=n(68575),s=n(1455),a=n(906);let l=(0,s.xC)({reducer:{user:a.ZP}});var u=n(73685);let c=(0,i.createContext)(void 0);function d(e){let{children:t}=e,[n,s]=(0,i.useState)(!1),[a,d]=(0,i.useState)({user_id:null,name:"",profile_image:""}),[f,m]=(0,u.Z)("loginUser",null);(0,i.useEffect)(()=>{!async function(){var e;(null==f?void 0:f.token)&&(null==f?void 0:null===(e=f.user_details)||void 0===e?void 0:e.user_id)&&(s(!0),d(null==f?void 0:f.user_details))}()},[]);let v=async()=>{await (0,u.L)("loginUser"),s(!1)};return(0,r.jsx)(o.zt,{store:l,children:(0,r.jsx)(c.Provider,{value:{isAuthenticated:n,login:e=>{console.log(e,"comes from dispatch"),s(!0);let t={token:e.token,user_details:{token:e.token,email:e.email||"",user_id:e.user_id||"",...null==e?void 0:e.user_details[0]}};m(t),d(null==t?void 0:t.user_details)},logout:v,userDetails:a},children:t})})}let f=()=>{let e=(0,i.useContext)(c);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},12320:function(e,t,n){"use strict";n.r(t);var r=n(57437),i=n(2265),o=n(30753),s=n(43022),a=n(35821),l=n(14692),u=n(38696);async function c(e){let t=await fetch("".concat(s._n,"/api/user_category_list"),{method:"POST",headers:{"Content-Type":"application/json"}}),n=new FormData;n.append("user_id",e);let r=await fetch("".concat(s._n,"/api/user_event_list"),{method:"POST",body:n}),i=await t.json(),o=await r.json();if(!t.ok||!r.ok)throw Error("Failed to fetch data");return{categoryList:(0,a.Bp)(i.data,o.data),eventList:(0,a.Wu)(o.data,i.data)}}t.default=()=>{let{userDetails:e}=(0,l.a)(),[t,n]=(0,i.useState)({categoryList:[],eventList:[]}),[s,a]=(0,i.useState)(!0),[d,f]=(0,i.useState)(null);return((0,i.useLayoutEffect)(()=>{(async()=>{if(!e||!e.user_id){a(!1);return}try{let t=await c(e.user_id);n(t)}catch(e){f(e)}finally{a(!1)}})()},[e]),s)?(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,r.jsx)(u.Z,{loading:s})}):d?(0,r.jsxs)("div",{children:["Error: ",d]}):(0,r.jsx)(o.default,{categoryList:null==t?void 0:t.categoryList,eventList:null==t?void 0:t.eventList})}},38696:function(e,t,n){"use strict";var r=n(57437),i=n(29),o=n.n(i);n(2265);var s=n(4229),a=n.n(s);t.Z=e=>{let{loading:t}=e;return(0,r.jsxs)("div",{className:"jsx-37cb8f3f1de06620 loader",children:[(0,r.jsx)(a(),{color:"#3498db",size:100,loading:t}),(0,r.jsx)("p",{className:"jsx-37cb8f3f1de06620",children:"Loading..."}),(0,r.jsx)(o(),{id:"37cb8f3f1de06620",children:".loader.jsx-37cb8f3f1de06620{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;height:100vh;font-size:1.5rem}"})]})}},73685:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(2265);t.Z=function(e,t){let[n,i]=(0,r.useState)(()=>{let n;return n=null,(n=localStorage.getItem(e))?JSON.parse(n):t});return(0,r.useEffect)(()=>{localStorage.setItem(e,JSON.stringify(n))},[e,n]),[n,i]};let i=e=>{localStorage.removeItem(e)}},906:function(e,t,n){"use strict";n.d(t,{PR:function(){return a},Q_:function(){return s}});let r=(0,n(1455).oM)({name:"user",initialState:{userInfo:null,userState:!1,categoryId:null},reducers:{setUserInfo:(e,t)=>{e.userInfo=t.payload},setUserState:e=>{e.userState=!e.userState},setCategory:(e,t)=>{e.categoryId=t.payload},clearUser:e=>{e.userInfo=null,e.aiQuestionId=null}}}),{setUserInfo:i,clearUser:o,setUserState:s,setCategory:a}=r.actions;t.ZP=r.reducer},61994:function(e,t,n){"use strict";t.Z=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t)){var o=t.length;for(n=0;n<o;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r)}return i}(e))&&(r&&(r+=" "),r+=t);return r}}},function(e){e.O(0,[5878,2519,2972,8629,4085,428,9840,846,753,2971,2117,1744],function(){return e(e.s=45016)}),_N_E=e.O()}]);