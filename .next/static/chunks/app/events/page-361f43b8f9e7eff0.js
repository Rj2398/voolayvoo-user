(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38],{45016:function(e,t,a){Promise.resolve().then(a.bind(a,42212))},99376:function(e,t,a){"use strict";var s=a(35475);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},42212:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var s=a(57437),r=a(2265),i=a(27648),n=a(33145),l=a(30846),o=a(35821),c=a(95106),d=a(43022),u=a(47240),h=a(55692),m=a(80956),p=a(21057),g=e=>{let{categoryList:t,eventList:a}=e,[g,f]=(0,r.useState)(!1),[y,v]=(0,r.useState)([]),[x,b]=(0,r.useState)(1),[j,w]=(0,r.useState)({category_id:"All"}),[_,N]=(0,r.useState)({isCategoryApply:!1,isSearchApply:!1,isDateRangeApply:!1,isLoacationApply:!1,isMilesAppy:!1,isPaginationApply:!1}),[A,S]=(0,r.useState)([]),[k,L]=(0,r.useState)([]),[P,C]=(0,r.useState)(""),[E,F]=(0,r.useState)([]),[M,R]=(0,r.useState)({from:0,to:100}),V=(0,r.useRef)(null);(0,r.useEffect)(()=>{(async()=>{try{let e=await (0,o.vW)();if(t&&a&&e){for(let t in a){let s={latitude:a[t].latitude,longitude:a[t].longitude};a[t].event_away_distance=(0,o.hs)(e,s)}let s=(0,o.Wu)(a,t);v(s),s.length>9?N(e=>({...e,isPaginationApply:!0})):S(s)}}catch(e){console.error("Error getting current location:",e)}})()},[t,a]),(0,r.useEffect)(()=>{let e=(0,o.Wu)(a,t);if(_.isCategoryApply?v(e=(0,o.Wu)(e,[{category_id:Number(j.category_id)}])):_.isCategoryApply||v(e=(0,o.Wu)(e,t)),_.isSearchApply){let t=e.filter(e=>{var t;return null==e?void 0:null===(t=e.events_name.toLowerCase())||void 0===t?void 0:t.includes(P.toLowerCase())});v(t),e=t}else _.isSearchApply||(e=(0,o.Wu)(e,t));if(_.isDateRangeApply){let t=new l.NT(k[0]),a=new l.NT(k[1]);(0,o.rF)(t.format(),a.format())&&v(e=(0,o.j7)(t.format(),a.format(),e))}else _.isDateRangeApply||(e=(0,o.Wu)(e,t));if(E.length>0){let t=e.filter(e=>{var t;return((null==e?void 0:null===(t=e.location)||void 0===t?void 0:t.split(", "))||[]).some(e=>E.some(t=>e.includes(t)))});v(t),e=t}else E.length;_.isMilesAppy?v(e=(0,o.r8)(e,M.from,M.to)):_.isMilesAppy||(e=(0,o.Wu)(e,t)),e.length>9&&_.isPaginationApply&&(v(e),e=e.filter((e,t)=>t<9)),b(1),S(e)},[_,E]);let Z=e=>{let t=e.category_id.toString()===j.category_id;t?t&&(N(e=>({...e,isCategoryApply:!1})),w({category_id:"All"}),V.current&&V.current.scrollIntoView({behavior:"smooth",block:"start"})):(N(e=>({...e,isCategoryApply:!0})),w({category_id:e.category_id.toString()}))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"inner-banner",style:{backgroundImage:"url(/images/about-bnr.png)",backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:[(0,s.jsx)("h1",{children:" Explore Events "}),(0,s.jsx)("p",{children:"Find Your A-ha!"})]}),(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("div",{className:"row justify-content-center p-3",children:(0,s.jsx)("div",{className:"col-lg-6",children:(0,s.jsxs)("form",{className:"d-flex new-srchbox mb-3",onSubmit:e=>{e.preventDefault(),P?N(e=>({...e,isSearchApply:!0})):N(e=>({...e,isSearchApply:!1})),V.current&&V.current.scrollIntoView({behavior:"smooth",block:"start"})},children:[(0,s.jsx)("input",{className:"new-srch",type:"search",value:P,onChange:e=>{e.target.value?C(e.target.value):(C(e.target.value),N(e=>({...e,isSearchApply:!1})))},placeholder:"Search for Events","aria-label":"Search"}),(0,s.jsx)("button",{className:"srch-btn",type:"submit",children:(0,s.jsx)(n.default,{width:15,height:16,src:"/images/search.png",alt:""})})]})})}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-lg-3 col-md-5",children:(0,s.jsxs)("div",{className:"event-cat",children:[(0,s.jsx)("h5",{children:"Event Categories"}),(0,s.jsx)("ul",{children:null==t?void 0:t.map(e=>(0,s.jsx)("li",{children:(0,s.jsxs)("a",{style:{cursor:"pointer",color:j.category_id==="".concat(e.category_id)?"#F10027":"black"},onClick:()=>Z(e),id:e.category_id,children:[e.category_name," ",(0,s.jsxs)("span",{children:["(",e.count,")"]})," "]})},e.category_id))})]})}),(0,s.jsx)("div",{className:"col-lg-9 col-md-7",children:(0,s.jsxs)("div",{className:"row",ref:V,children:[(0,s.jsx)("div",{className:"col-lg-12 mb-3",children:(0,s.jsxs)("div",{className:"show-cal-loc-range",children:[(0,s.jsx)("div",{className:"calendar",children:(0,s.jsx)("div",{className:"broker-date",children:(0,s.jsx)(m.Z,{date:k,onChange:e=>{let t=new l.NT(e[0]),a=new l.NT(e[1]);L(e),(0,o.rF)(t.format(),a.format())?N(e=>({...e,isDateRangeApply:!0})):N(e=>({...e,isDateRangeApply:!1})),V.current&&V.current.scrollIntoView({behavior:"smooth",block:"start"})}})})}),(0,s.jsx)(p.Z,{locationFilter:E,setLocationFilter:F}),(0,s.jsxs)("div",{className:"dropdown mile-rad-range date-range",children:[(0,s.jsxs)("a",{className:"btn btn-date-range text-left",type:"button",id:"date-range-drop","data-bs-toggle":"dropdown","aria-expanded":"false",children:["Select your Mile Radius"," "]}),(0,s.jsx)(h.Z,{initialValueFrom:0,initialValueTo:100,handleSliderValues:e=>{R({from:e.fromValue,to:e.toValue}),0===e.fromValue&&100===e.toValue?N(e=>({...e,isMilesAppy:!1})):N(e=>({...e,isMilesAppy:!0}))}})]})]})}),Array.isArray(A)&&A.length>0&&A.map((e,t)=>{var a,r;return console.log(e,"datassssssssss"),(0,s.jsx)("div",{className:"col-lg-4",children:(0,s.jsxs)("div",{className:"event-brand-box",children:[(0,s.jsxs)("div",{className:"brand-logo",children:[(0,s.jsx)(n.default,{width:285,height:223,style:{objectFit:"cover"},src:(null==e?void 0:null===(a=e.eventimage)||void 0===a?void 0:a.image_name)?"".concat(d._n,"/").concat(null==e?void 0:null===(r=e.eventimage)||void 0===r?void 0:r.image_name):"/images/near-event2.png",alt:"",onError:e=>{console.error("Image failed to load:",e)}}),(0,s.jsxs)("div",{className:"event-price-free",children:[" ",0===Number(e.events_price)?"Free":"$"+Number(e.events_price)," "]})]}),(0,s.jsxs)("div",{class:"event-pad",children:[(0,s.jsxs)("h6",{children:[" ",(0,o.hk)(e.events_name,20)]}),(0,s.jsxs)("p",{style:{},children:[" ",(0,o.hk)(e.events_description,50)]}),(0,s.jsxs)("div",{class:"point-icon",children:[(0,s.jsxs)("span",{children:[" ",(0,s.jsx)(n.default,{width:20,height:20,src:"/images/location-dot.png",alt:""})," ",e.event_away_distance," miles away"," "]}),(0,s.jsxs)("span",{children:[(0,s.jsx)(n.default,{width:20,height:20,src:"/images/calendar.png",alt:""})," ",c.ou.fromFormat(e.events_date,"yyyy-MM-dd").toFormat("MMMM dd, yyyy")," "]}),(0,s.jsxs)("span",{children:[" ",(0,s.jsx)(n.default,{width:20,height:20,src:"/images/watch.png",alt:""})," ",(0,o.YZ)(e.events_start_time)," to"," ",(0,o.YZ)(e.events_end_time)," "]})]}),(0,s.jsx)(i.default,{className:"btn btn-viewmore-border btn-align",href:"/events/".concat(e.checked_id,"?promoter_id=").concat(e.promoter_id),role:"button",children:"View More"})]})]})},t)}),Array.isArray(A)&&0===A.length&&(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("p",{className:"noDataText",children:"No Events "})}),(0,s.jsx)(u.Z,{dataArray:y,pageNo:x,clickPageNumber:e=>{let t=[];for(let e=0;e<y.length;e+=9)t.push(y.slice(e,e+9));V.current&&V.current.scrollIntoView({behavior:"smooth",block:"start"}),b(e),S(t[e-1])},pageLimit:9})]})})]})]})]})},f=a(14692),y=a(38696),v=a(99376),x=a(73685);async function b(e){let t=await fetch("".concat(d._n,"/api/user_category_list"),{method:"POST",headers:{"Content-Type":"application/json"}}),a=new FormData;a.append("user_id",e);let s=await fetch("".concat(d._n,"/api/user_event_list"),{method:"POST",body:a}),r=await t.json(),i=await s.json();if(!t.ok||!s.ok)throw Error("Failed to fetch data");return{categoryList:(0,o.Bp)(r.data,i.data),eventList:(0,o.Wu)(i.data,r.data)}}var j=()=>{let{userDetails:e}=(0,f.a)(),[t,a]=(0,r.useState)({categoryList:[],eventList:[]}),[i,n]=(0,r.useState)(!0),[l,o]=(0,r.useState)(null),[c,d]=(0,x.Z)("loginUser",null),u=(0,v.useRouter)();return((0,r.useLayoutEffect)(()=>{(async()=>{if(!c){u.push("auth-users"),n(!1);return}if(!e||!e.user_id){n(!1);return}try{let t=await b(e.user_id);a(t)}catch(e){o(e)}finally{n(!1)}})()},[e,u]),i)?(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,s.jsx)(y.Z,{loading:i})}):l?(0,s.jsxs)("div",{children:["Error: ",l]}):(0,s.jsx)(g,{categoryList:null==t?void 0:t.categoryList,eventList:null==t?void 0:t.eventList})}},21057:function(e,t,a){"use strict";var s=a(57437),r=a(2265),i=a(85555);t.Z=r.memo(function(e){let{locationFilter:t=[],setLocationFilter:a}=e,[n,l]=(0,r.useState)(!1);return(0,s.jsxs)("div",{className:"location-drop",children:[(0,s.jsxs)("a",{className:"btn btn-location text-left",href:"#",role:"button",id:"location-drop-id","data-bs-toggle":"dropdown","aria-expanded":"false",children:[" ","Location"," "]}),(0,s.jsx)("ul",{className:"dropdown-menu location-drop-list w-auto","aria-labelledby":"location-drop-id",children:(0,s.jsx)("form",{children:(0,s.jsx)(i.Z,{select:t,setSelect:e=>{a(e)}})})})]})})},38696:function(e,t,a){"use strict";var s=a(57437),r=a(29),i=a.n(r);a(2265);var n=a(4229),l=a.n(n);t.Z=e=>{let{loading:t}=e;return(0,s.jsxs)("div",{className:"jsx-37cb8f3f1de06620 loader",children:[(0,s.jsx)(l(),{color:"#3498db",size:100,loading:t}),(0,s.jsx)("p",{className:"jsx-37cb8f3f1de06620",children:"Loading..."}),(0,s.jsx)(i(),{id:"37cb8f3f1de06620",children:".loader.jsx-37cb8f3f1de06620{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;height:100vh;font-size:1.5rem}"})]})}},61994:function(e,t,a){"use strict";t.Z=function(){for(var e,t,a=0,s="",r=arguments.length;a<r;a++)(e=arguments[a])&&(t=function e(t){var a,s,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t){if(Array.isArray(t)){var i=t.length;for(a=0;a<i;a++)t[a]&&(s=e(t[a]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s)}return r}(e))&&(s&&(s+=" "),s+=t);return s}}},function(e){e.O(0,[5878,2519,2972,8629,4085,9840,428,846,9506,2971,2117,1744],function(){return e(e.s=45016)}),_N_E=e.O()}]);