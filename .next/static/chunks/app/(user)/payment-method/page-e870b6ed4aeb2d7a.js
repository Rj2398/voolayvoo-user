(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2147],{13938:function(e,t,n){Promise.resolve().then(n.bind(n,67118))},33145:function(e,t,n){"use strict";n.d(t,{default:function(){return l.a}});var r=n(48461),l=n.n(r)},48461:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return i},getImageProps:function(){return o}});let r=n(47043),l=n(55346),a=n(65878),s=r._(n(5084));function o(e){let{props:t}=(0,l.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}}let i=a.Image},67118:function(e,t,n){"use strict";n.r(t);var r=n(57437),l=n(33145),a=n(2265),s=n(14692),o=n(7261),i=n(50391),u=n(36172),d=n(35301),c=n(51713),f=n(85540);t.default=()=>{let[e,t]=(0,a.useState)(!1),{isAuthenticated:n,userDetails:v}=(0,s.a)(),[h,g]=(0,a.useState)([]),[m,_]=(0,a.useState)(!1),[p,y]=(0,a.useState)(!0);(0,a.useEffect)(()=>{n&&(null==v?void 0:v.token)&&x()},[n,m]);let x=async()=>{y(!0);try{let e=await (0,i.Fh)({data:{user_id:null==v?void 0:v.user_id},endpoint:"user_AllCard",authToken:null==v?void 0:v.token});if(null==e?void 0:e.data)g(null==e?void 0:e.data);else if((null==e?void 0:e.message)==="No card saved.")g([]);else throw e}catch(e){if("No card saved."!==e&&void 0!==e){let t="string"==typeof e?"".concat(e):null==e?void 0:e.message;o.toast.error(t)}}finally{y(!1)}},S=async e=>{try{let t=await (0,i.Fh)({data:{user_id:null==v?void 0:v.user_id,token:null==e?void 0:e.id},endpoint:"user_CardSave",authToken:null==v?void 0:v.token});if(null==t?void 0:t.data)_(!m);else throw t}catch(t){let e="string"==typeof t?"".concat(t):(null==t?void 0:t.message)?null==t?void 0:t.message:"".concat(t);o.toast.error(e)}},k=async e=>{try{let t=await (0,i.Fh)({data:{user_id:null==v?void 0:v.user_id,card_id:e},endpoint:"user_CardDelete",authToken:null==v?void 0:v.token});if(t.hasOwnProperty("data"))o.toast.success(null==t?void 0:t.message),_(!m);else throw t}catch(t){let e="string"==typeof t?"".concat(t):(null==t?void 0:t.message)?null==t?void 0:t.message:"".concat(t);o.toast.error(e)}};return(0,r.jsxs)("div",{className:"user-dashboard-data",children:[p&&(0,r.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,r.jsx)(c.Z,{variant:"rounded",width:"60%",height:160}),(0,r.jsx)(c.Z,{variant:"rounded",width:210,height:40,sx:{mt:2}})]}),!p&&(null==h?void 0:h.length)===0&&(0,r.jsxs)("div",{className:"user-payment-method",children:[(0,r.jsx)("div",{className:"user-card-icon",children:(0,r.jsx)(l.default,{width:100,height:76,src:"/images/user-dashboard/payment-method/card-info-icon.svg",alt:""})}),(0,r.jsx)("h1",{children:"You have no saved cards."}),(0,r.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commod o ligula eget dolor."}),(0,r.jsx)("a",{href:"#",onClick:()=>t(!0),children:"Add Card"})]}),!p&&(null==h?void 0:h.length)>0&&(0,r.jsx)(f.Z,{setOpen:t,userCardDelete:k,cardList:h,isCardPaymentEnabled:!1,callPaymentCard:()=>console.log("")}),(0,r.jsx)(u.Z,{open:e,setOpen:t,callBack:S})]})}},14692:function(e,t,n){"use strict";n.d(t,{default:function(){return c},a:function(){return f}});var r=n(57437),l=n(2265),a=n(68575),s=n(1455),o=n(906);let i=(0,s.xC)({reducer:{user:o.ZP}});var u=n(73685);let d=(0,l.createContext)(void 0);function c(e){let{children:t}=e,[n,s]=(0,l.useState)(!1),[o,c]=(0,l.useState)({user_id:null,name:"",profile_image:""}),[f,v]=(0,u.Z)("loginUser",null);(0,l.useEffect)(()=>{!async function(){var e;(null==f?void 0:f.token)&&(null==f?void 0:null===(e=f.user_details)||void 0===e?void 0:e.user_id)&&(s(!0),c(null==f?void 0:f.user_details))}()},[]);let h=async()=>{await (0,u.L)("loginUser"),s(!1)};return(0,r.jsx)(a.zt,{store:i,children:(0,r.jsx)(d.Provider,{value:{isAuthenticated:n,login:e=>{console.log(e,"comes from dispatch"),s(!0);let t={token:e.token,user_details:{token:e.token,email:e.email||"",user_id:e.user_id||"",...null==e?void 0:e.user_details[0]}};v(t),c(null==t?void 0:t.user_details)},logout:h,userDetails:o},children:t})})}let f=()=>{let e=(0,l.useContext)(d);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},43022:function(e,t,n){"use strict";n.d(t,{Uu:function(){return l},_n:function(){return r},n2:function(){return a}});let r="https://vooleyvoo.tgastaging.com",l="AIzaSyC9NuN_f-wESHh3kihTvpbvdrmKlTQurxw",a="pk_test_51PEqRgAJcW6Btw8tpASD0I5XchUNQRd2QPwSCRlxYvm1GvdtCWEik7s6RANFlolXD58002c3HBDItMkrZHIXgs1T00xvdkulZJ"},73685:function(e,t,n){"use strict";n.d(t,{L:function(){return l}});var r=n(2265);t.Z=function(e,t){let[n,l]=(0,r.useState)(()=>{let n;return n=null,(n=localStorage.getItem(e))?JSON.parse(n):t});return(0,r.useEffect)(()=>{localStorage.setItem(e,JSON.stringify(n))},[e,n]),[n,l]};let l=e=>{localStorage.removeItem(e)}},906:function(e,t,n){"use strict";n.d(t,{PR:function(){return o},Q_:function(){return s}});let r=(0,n(1455).oM)({name:"user",initialState:{userInfo:null,userState:!1,categoryId:null},reducers:{setUserInfo:(e,t)=>{e.userInfo=t.payload},setUserState:e=>{e.userState=!e.userState},setCategory:(e,t)=>{e.categoryId=t.payload},clearUser:e=>{e.userInfo=null,e.aiQuestionId=null}}}),{setUserInfo:l,clearUser:a,setUserState:s,setCategory:o}=r.actions;t.ZP=r.reducer}},function(e){e.O(0,[5878,7261,2519,8629,6963,8578,3402,2971,2117,1744],function(){return e(e.s=13938)}),_N_E=e.O()}]);