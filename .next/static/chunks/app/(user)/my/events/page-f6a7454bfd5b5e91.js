(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5433],{9058:function(e,t,a){Promise.resolve().then(a.bind(a,73838))},99376:function(e,t,a){"use strict";var r=a(35475);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},73838:function(e,t,a){"use strict";var r=a(57437),n=a(2265),i=a(33145),s=a(30846),o=a(35821),l=a(95106),c=a(43022),d=a(47240),u=a(55692),m=a(85555),h=a(80956);a(71208);var v=a(7261),p=a(50391),y=a(14692),g=a(27648),f=a(99376),x=a(38696);t.default=e=>{let{categoryMainList:t=[]}=e,{isAuthenticated:a,userDetails:l}=(0,y.a)(),[c,g]=(0,n.useState)(!1),[f,_]=(0,n.useState)([]),[w,j]=(0,n.useState)([]),[N,A]=(0,n.useState)([]),[S,k]=(0,n.useState)(1),[C,P]=(0,n.useState)({category_id:"All"}),[M,T]=(0,n.useState)({isCategoryApply:!1,isSearchApply:!1,isDateRangeApply:!1,isLoacationApply:!1,isMilesAppy:!1,isPaginationApply:!1}),[E,W]=(0,n.useState)([]),[F,R]=(0,n.useState)([]),[V,D]=(0,n.useState)(""),[z,L]=(0,n.useState)([]),[O,Z]=(0,n.useState)({from:0,to:100}),[B,I]=(0,n.useState)(!1);(0,n.useEffect)(()=>{$()},[t,l]);let $=async()=>{try{var e,a;I(!0);let r=await (0,p.Fh)({data:{user_id:null==l?void 0:l.user_id},endpoint:"user_my_event_list",authToken:l.token});console.log(r,"result event data");let n=[];if(Array.isArray(null==r?void 0:null===(e=r.data)||void 0===e?void 0:e.event_one)){let e=r.data.event_one.map(e=>({...e,category_id:null==e?void 0:e.category_id,subcategory_id:null==e?void 0:e.subcategory_id}));n=[...n,...e]}if(Array.isArray(null==r?void 0:null===(a=r.data)||void 0===a?void 0:a.event_two)){let e=r.data.event_two.map(e=>({...e,category_id:null==e?void 0:e.category_id,subcategory_id:null==e?void 0:e.subcategory_id}));n=[...n,...e]}n.length>0?(_((0,o.Wu)(n,t)),j((0,o.Bp)(t,n))):_([])}catch(t){let e="string"==typeof t?"".concat(t):(null==t?void 0:t.message)?null==t?void 0:t.message:"".concat(t);v.toast.error(e),_([])}finally{I(!1)}};w.sort((e,t)=>e.category_name<t.category_name?-1:e.category_name>t.category_name?1:0),(0,n.useEffect)(()=>{(async()=>{try{let e=await (0,o.vW)();if(w&&f&&e){for(let t in f){let a={latitude:f[t].latitude,longitude:f[t].longitude};f[t].event_away_distance=(0,o.hs)(e,a)}let t=(0,o.Wu)(f,w);A(t),t.length>9?T(e=>({...e,isPaginationApply:!0})):W(t)}}catch(e){console.error("Error getting current location:",e)}})()},[w,f]),(0,n.useEffect)(()=>{let e=(0,o.Wu)(f,w);if(M.isCategoryApply?A(e=(0,o.Wu)(e,[{category_id:Number(C.category_id)}])):M.isCategoryApply||A(e=(0,o.Wu)(e,w)),M.isSearchApply){let t=e.filter(e=>{var t,a;return null==e?void 0:null===(a=e.promoter_event)||void 0===a?void 0:null===(t=a.events_name.toLowerCase())||void 0===t?void 0:t.includes(V.toLowerCase())});A(t),e=t}else M.isSearchApply||(e=(0,o.Wu)(e,w));if(M.isDateRangeApply){let t=new s.NT(F[0]),a=new s.NT(F[1]);(0,o.rF)(t.format(),a.format())&&A(e=(0,o.W$)(t.format(),a.format(),e,"promoter_event"))}else M.isDateRangeApply||(e=(0,o.Wu)(e,w));if(z.length>0){let t=e.filter(e=>{var t,a;return((null==e?void 0:null===(a=e.promoter_event)||void 0===a?void 0:null===(t=a.location)||void 0===t?void 0:t.split(", "))||[]).some(e=>z.some(t=>e.includes(t)))});A(t),e=t}else z.length;M.isMilesAppy?A(e=(0,o.r8)(e,O.from,O.to)):M.isMilesAppy||(e=(0,o.Wu)(e,w)),e.length>9&&M.isPaginationApply&&(A(e),e=e.filter((e,t)=>t<9)),k(1),W(e)},[M,z]);let q=e=>{let t=e.category_id.toString()===C.category_id;t?t&&(T(e=>({...e,isCategoryApply:!1})),P({category_id:"All"}),Y.current&&Y.current.scrollIntoView({behavior:"smooth",block:"start"})):(T(e=>({...e,isCategoryApply:!0})),P({category_id:e.category_id.toString()}))};(0,n.useEffect)(()=>{let e=(0,o.Wu)(f,w);if(M.isCategoryApply&&(e=(0,o.Wu)(e,[{category_id:Number(C.category_id)}])),M.isSearchApply&&(e=e.filter(e=>{var t;return null==e?void 0:null===(t=e.promoter_event)||void 0===t?void 0:t.events_name.toLowerCase().includes(V.toLowerCase())})),M.isDateRangeApply&&2===F.length){let[t,a]=F.map(e=>new s.NT(e).format());(0,o.rF)(t,a)&&(e=(0,o.W$)(t,a,e,"promoter_event"))}z.length>0&&(e=e.filter(e=>{var t,a;return((null==e?void 0:null===(a=e.promoter_event)||void 0===a?void 0:null===(t=a.location)||void 0===t?void 0:t.split(", "))||[]).some(e=>z.some(t=>e.includes(t)))})),M.isMilesAppy&&(e=(0,o.r8)(e,O.from,O.to)),A(e),W(e.slice(0,9)),k(1)},[M,z,F,V]);let Y=n.useRef<HTMLDivElement>null;return B?(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginLeft:"400px"},children:(0,r.jsx)(x.Z,{loading:B})}):(0,r.jsxs)("div",{className:"user-dashboard-data user-my-eve",children:[(0,r.jsx)("div",{className:"user-my-favorites",children:(0,r.jsx)("div",{className:"deals-inner-search",children:(0,r.jsx)("form",{onSubmit:e=>{e.preventDefault(),V?T(e=>({...e,isSearchApply:!0})):T(e=>({...e,isSearchApply:!1})),Y.current&&Y.current.scrollIntoView({behavior:"smooth",block:"start"})},children:(0,r.jsxs)("label",{className:"interests-search",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search for Events",value:V,onChange:e=>{e.target.value?D(e.target.value):(D(e.target.value),T(e=>({...e,isSearchApply:!1})))}}),(0,r.jsx)("button",{type:"submit",children:(0,r.jsx)(i.default,{width:20,height:21,src:"/images/search.png",alt:""})})]})})})}),(0,r.jsx)("div",{className:"user-my-voop-eve",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-lg-12 mb-3",children:(0,r.jsxs)("div",{className:"show-cal-loc-range",children:[(0,r.jsxs)("div",{className:"dropdown date-range",children:[(0,r.jsxs)("a",{className:"btn select-categories text-left",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:[" ","Event Categories"," "]}),(0,r.jsx)("ul",{className:"dropdown-menu w-100","aria-labelledby":"dropdownMenuButton1",children:w.map(e=>(0,r.jsx)("li",{children:(0,r.jsxs)("a",{style:{cursor:"pointer",color:C.category_id==="".concat(e.category_id)?"#F10027":"black"},onClick:()=>q(e),id:e.category_id,children:[e.category_name," ",(0,r.jsxs)("span",{children:["(",e.count,")"]})," "]})},e.category_id))})]}),(0,r.jsx)("div",{className:"calendar",children:(0,r.jsx)("div",{className:"broker-date",children:(0,r.jsx)(h.Z,{date:F,onChange:e=>{let t=new s.NT(e[0]),a=new s.NT(e[1]);R(e),(0,o.rF)(t.format(),a.format())?T(e=>({...e,isDateRangeApply:!0})):T(e=>({...e,isDateRangeApply:!1})),Y.current&&Y.current.scrollIntoView({behavior:"smooth",block:"start"})}})})}),(0,r.jsxs)("div",{className:"location-drop",children:[(0,r.jsxs)("a",{onClick:()=>g(!c),className:"btn btn-location text-left",href:"#",role:"button",children:[" ","Location"," "]}),(0,r.jsx)("div",{className:"location-drop-list",style:{display:c?"block":"none"},children:(0,r.jsx)("form",{children:(0,r.jsx)(m.Z,{select:z,setSelect:e=>{L(e)}})})})]}),(0,r.jsxs)("div",{className:"dropdown mile-rad-range date-range",children:[(0,r.jsxs)("a",{className:"btn btn-date-range text-left",type:"button",id:"date-range-drop","data-bs-toggle":"dropdown","aria-expanded":"false",children:["Select your Mile Radius"," "]}),(0,r.jsx)(u.Z,{initialValueFrom:0,initialValueTo:100,handleSliderValues:e=>{Z({from:e.fromValue,to:e.toValue}),0===e.fromValue&&100===e.toValue?T(e=>({...e,isMilesAppy:!1})):T(e=>({...e,isMilesAppy:!0}))}})]})]})}),Array.isArray(E)&&E.length>0&&E.map((e,t)=>(0,r.jsx)(b,{item:e},"".concat((null==e?void 0:e.id)+t))),Array.isArray(E)&&0===E.length&&(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("p",{className:"noDataText",children:"No Events"})}),(0,r.jsx)(d.Z,{dataArray:N,pageNo:S,clickPageNumber:e=>{let t=(e-1)*9,a=N.slice(t,t+9);k(e),W(a),Y.current&&Y.current.scrollIntoView({behavior:"smooth",block:"start"})},pageLimit:9})]})})]})};let b=e=>{var t,a,s,d,u;let{item:m}=e,h=(0,f.useRouter)(),v=(0,n.useCallback)(e=>{e.preventDefault(),h.push("/my/events/".concat(null==m?void 0:m.checked_id,"?event_uinqu=").concat(null==m?void 0:m.match_number))},[m]);return(0,r.jsx)("div",{className:"col-lg-4",children:(0,r.jsxs)("div",{className:"event-brand-box w-100",children:[(0,r.jsxs)("div",{className:"brand-logo",children:[(0,r.jsxs)("span",{children:[" ",0===Number(null==m?void 0:m.events_price)?"Free":"$"+Number(null==m?void 0:m.events_price)]}),(0,r.jsx)("span",{children:null==m?void 0:null===(t=m.eventsimage)||void 0===t?void 0:t.image_name}),(0,r.jsx)(i.default,{width:290,height:226,alt:"",style:{objectFit:"cover"},src:(null==m?void 0:null===(a=m.eventsimage)||void 0===a?void 0:a.image_name)?"".concat(c._n,"/").concat(null==m?void 0:null===(s=m.eventsimage)||void 0===s?void 0:s.image_name):"/images/near-event1.png",onError:e=>{e.target.src="/images/near-event.png"}})]}),(0,r.jsxs)("div",{className:"event-pad",children:[(0,r.jsxs)("h6",{children:[" ",null==m?void 0:null===(d=m.promoter_event)||void 0===d?void 0:d.events_name]}),(0,r.jsx)("p",{className:"truncate-text",children:null==m?void 0:null===(u=m.promoter_event)||void 0===u?void 0:u.events_description}),(0,r.jsxs)("div",{className:"point-icon",style:{height:"40%"},children:[(0,r.jsxs)("div",{style:{width:"80%"},children:[(0,r.jsx)(i.default,{width:20,height:20,src:"/images/location-dot.png",alt:""})," ",null==m?void 0:m.event_away_distance," miles away"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(i.default,{width:20,height:20,src:"/images/calendar.png",alt:""})," ",l.ou.fromFormat(null==m?void 0:m.events_date,"yyyy-MM-dd").toFormat("MMMM dd, yyyy")]}),(0,r.jsxs)("span",{children:[(0,r.jsx)(i.default,{width:20,height:20,src:"/images/watch.png",alt:""})," ",(0,o.YZ)(null==m?void 0:m.events_start_time)," to"," ",(0,o.YZ)(null==m?void 0:m.events_end_time)]})]}),(0,r.jsx)(g.default,{className:"btn btn-viewmore-border",role:"button",href:"#",onClick:v,children:"View More"})]})]})})}},38696:function(e,t,a){"use strict";var r=a(57437),n=a(29),i=a.n(n);a(2265);var s=a(4229),o=a.n(s);t.Z=e=>{let{loading:t}=e;return(0,r.jsxs)("div",{className:"jsx-37cb8f3f1de06620 loader",children:[(0,r.jsx)(o(),{color:"#3498db",size:100,loading:t}),(0,r.jsx)("p",{className:"jsx-37cb8f3f1de06620",children:"Loading..."}),(0,r.jsx)(i(),{id:"37cb8f3f1de06620",children:".loader.jsx-37cb8f3f1de06620{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;height:100vh;font-size:1.5rem}"})]})}},50391:function(e,t,a){"use strict";a.d(t,{Fh:function(){return l},Gw:function(){return o},Nh:function(){return c},qC:function(){return i},rS:function(){return s}}),a(7261);var r=a(43022);let n=e=>{let t=new FormData;return Object.keys(e).forEach(a=>t.append(a,e[a])),t},i=async e=>{let{data:t,endpoint:a}=e;try{let e=await fetch("".concat(r._n,"/api/").concat(a),{method:"POST",body:n(t)}),i=await e.json();if(i.success)return i.data;if(!i.success)return i.message;if(i.error)throw i.error}catch(e){return e}},s=async e=>{let{data:t,endpoint:a}=e;try{let e=await fetch("".concat(r._n,"/api/").concat(a),{method:"POST",body:n(t)}),i=await e.json();if(i.success)return i.data[0];if(!i.success)return i.message;if(i.error)throw i.error}catch(e){return e}},o=async e=>{let{data:t,endpoint:a,authToken:i}=e;try{let e=await fetch("".concat(r._n,"/api/").concat(a),{method:"POST",headers:{Authorization:"Bearer ".concat(i)},body:n(t)}),s=await e.json();if(s.success)return s.data[0];if(!s.success)throw s.message;if(s.error)throw s.error}catch(e){return e}},l=async e=>{let{data:t,endpoint:a,authToken:i}=e;try{let e=await fetch("".concat(r._n,"/api/auth/").concat(a),{method:"POST",headers:{Authorization:"Bearer ".concat(i)},body:n(t)}),s=await e.json();if(s.success)return s;if(!s.success)throw s.message;if(s.error)throw s.error}catch(e){return e}},c=async e=>{let{data:t,endpoint:a,authToken:n}=e;try{let e=await fetch("".concat(r._n,"/api/auth/").concat(a),{method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify(t)}),i=await e.json();if(i.success)return i;if(!i.success)throw i.message;if(i.error)throw i.error}catch(e){return e}}}},function(e){e.O(0,[5878,7261,2519,2972,8629,4085,9840,428,846,9506,1208,2971,2117,1744],function(){return e(e.s=9058)}),_N_E=e.O()}]);